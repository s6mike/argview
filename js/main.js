(()=>{var t,e={1749:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});const o={argmap_collection:{tag:"article",class:"argmap-collection"},argmap_grouping:{tag:"article",class:"argmap",parent:"argmap_collection"},mapjs_instance:{tag:"div",class:"mapjs-app",parent:"mapjs_grouping"},mapjs_map:{id:"${mapjs_map.id-prefix}${MAP_INSTANCE_ID}","id-prefix":"container-",tag:"div",class:"mapjs-container",parent:"mapjs_app"},mapjs_src_data:{tag:"script",class:"argmap-json",src:"${path-json-source}",parent:"mapjs_map"},mapjs_control:{id:"${mapjs_control.id-prefix}${MAP_INSTANCE_ID}","id-prefix":"menubar-mapjs-",tag:"div",class:"menubar-mapjs",role:"menubar",parent:"mapjs_instance"},toolbar_main:{tag:"div",class:"toolbar-mapjs-main",role:"toolbar",aria_label:"Edit nodes",parent:"mapjs_control"},toolbar_edit_links:{id:"${toolbar_edit_links.id-prefix}${MAP_INSTANCE_ID}","id-prefix":"toolbar-edit-links-",tag:"div",class:"toolbar-mapjs-edit-links",role:"toolbar",aria_label:"Edit links",parent:"mapjs_control"},toolbar_fileButton:{class:"readFile"},node:{class:"mapjs-node"},connector:{class:"mapjs-connector"}}},2612:t=>{t.exports=function(){"use strict";const t=function(t){if(t)return JSON.parse(JSON.stringify(t))};let e;this.get=function(){return t(e)},this.put=function(n){e=t(n)}}},8286:(t,e,n)=>{const o=n(6159);t.exports=function(t,e){"use strict";if(!(e&&t&&t.attr&&t.attr.style))return e;const n=t.attr.style.fontMultiplier,i=t.attr.style.textAlign,r=(()=>{const e=t.attr&&t.attr.style&&t.attr.style.background;return"false"!==e&&"transparent"!==e&&e})(),a="surround"!==e.borderType;return r&&(a?e.text.color=r:(e.text.color=e.text[o(r)],e.backgroundColor=r)),i&&(e.text=Object.assign({},e.text,{alignment:i})),e&&e.hasFontMultiplier||!e.font||!n||Math.abs(n)<=.01||Math.abs(n-1)<=.01||(e.font.size&&(e.font.size=e.font.size*n),e.font.lineSpacing&&(e.font.lineSpacing=e.font.lineSpacing*n),e.font.sizePx&&(e.font.sizePx=e.font.sizePx*n),e.font.lineSpacingPx&&(e.font.lineSpacingPx=e.font.lineSpacingPx*n),e.hasFontMultiplier=!0),e}},5943:(t,e,n)=>{const o=n(6192),i=n(9050),r=n(3379),a=(t,e,n,o,i)=>{"use strict";const r=n&&e.getPersistedAttributes(n.attr,o,i)||{};r.removed.forEach((e=>t.updateAttr(n.id,e,!1))),Object.keys(r.attr).forEach((e=>{t.updateAttr(n.id,e,r.attr[e])}))},s=(t,e,n,o,i)=>{"use strict";if(Logger.debug("recalcIdeasAutoNodeAttrs idea.id",n.id,"level",o,"numberOfSiblings",i),o>0&&a(t,e,n,o,i),n.ideas){let i=0;Object.keys(n.ideas).forEach((r=>{s(t,e,n.ideas[r],o+1,i),i+=1}))}};t.exports={addSubIdea:(t,e,n,r,a,s)=>{"use strict";if(!e)return t.addSubIdea(n,r,a,s);const d=o(t,n),c=n&&t.findSubIdeaById(n),u=c&&c.ideas&&Object.keys(c.ideas).length||0,l=e.getPersistedAttributes(s,d+1,u).attr,h=!i.isEmpty(l)&&l||void 0;return t.addSubIdea(n,r,a,h)},changeParent:(t,e,n,i)=>{"use strict";if(!e)return t.changeParent(n,i);const r=t.findSubIdeaById(i),s=r&&r.ideas&&Object.keys(r.ideas).length||0,d=o(t,i);t.batch((()=>{t.changeParent(n,i);const o=t.findSubIdeaById(n);a(t,e,o,d+1,s);let r=0;o.ideas&&Object.keys(o.ideas).forEach((n=>{a(t,e,o.ideas[n],d+2,r),r+=1}))}))},insertIntermediateMultiple:(t,e,n,r)=>{"use strict";if(!e)return t.insertIntermediateMultiple(n,r);const s=i.extend({},r),d=e&&n&&n[0],c=d&&t.findSubIdeaById(d),u=d&&o(t,d),l=c&&c.attr||{},h=t.sameSideSiblingIds(d),f=h&&h.length||0,p=e.getPersistedAttributes(l,u,f).attr;let g;return s.attr=i.extend({},s.attr,p),t.batch((()=>{g=t.insertIntermediateMultiple(n,s);let o=0;n.forEach((n=>{const i=t.findSubIdeaById(n);a(t,e,i,u+1,o),o+=1}))})),g},pasteMultiple:(t,e,n,i)=>{"use strict";if(!e)return t.pasteMultiple(n,i);const a=o(t,n),d=n&&t.findSubIdeaById(n)||t,c=d.ideas&&Object.keys(d.ideas).length||0;i.forEach((t=>{r(t,(t=>e.cleanPersistedAttributes(t.attr)))}));let u=!1,l=c;return t.batch((()=>(u=t.pasteMultiple(n,i),u&&u.length&&u.forEach((n=>{const o=t.findSubIdeaById(n);s(t,e,o,a+1,l),l+=1})),u))),u},recalcIdeasAutoNodeAttrs:s}},6192:(t,e,n)=>{const o=n(9050);t.exports=function t(e,n,i){"use strict";if(!e)throw"invalid-args";return e.id==n?i||0:n?(i=i||1,o.find(e.ideas,(function(t){return t.id==n}))?i:o.reduce(e.ideas,(function(e,o){return e||t(o,n,i+1)}),void 0)):void 0}},5080:(t,e,n)=>{const o=n(9050);t.exports=function(t){"use strict";return function(){const e=function(t){let n;t.style&&(t.attr={},n=t.style.collapsed,delete t.style.collapsed,t.attr.style=t.style,n&&(t.attr.collapsed=n),delete t.style),t.ideas&&o.each(t.ideas,e)};t.formatVersion&&t.formatVersion>=2||(e(t),t.formatVersion=2)}(),t.formatVersion&&t.formatVersion>=3||(function(){const e=["theme","themeOverrides","measurements-config","storyboards","progress-statuses"],n=t&&t.attr||{},i=o.pick(n,e),r=o.omit(n,e),a=t&&t.ideas,s={id:t.id,title:t.title,attr:r};a&&(s.ideas=a),t.id="root",t.ideas={1:s},delete t.title,t.attr=i}(),t.formatVersion=3),t}},6906:(t,e,n)=>{const o=n(9050),i=n(110),r=n(5080);t.exports=function(t,e){"use strict";let n,a=e,s={},d=!1;const c=function(t,e){return t instanceof RangeError?(Logger.dir(`Caught RangeError in ${e}, returning false: ${t}`),!1):(Logger.error(t),logMyErrors(t),!0)},u=function(){n=void 0},l=function e(n){return(n=n||t).ideas?o.reduce(n.ideas,(function(t,n){return Math.max(t,e(n))}),parseInt(n.id,10)||0):parseInt(n.id,10)||0},h=function(t){return t=t||a,n||(n=l()),n+=1,t?n+"."+t:n},f=function(e,n){const i=e.id===t.id;return e.id?u():e.id=h(n),e.ideas&&o.each(e.ideas,(function(t,r){!i&&t.attr&&t.attr.group&&o.isEmpty(t.ideas)?delete e.ideas[r]:e.ideas[parseFloat(r)]=f(t,n)})),e.title||(e.title=""),e.containsDirectChild=e.findChildRankById=function(t){try{return parseFloat(o.reduce(e.ideas,(function(e,n,o){return n&&n.id==t?o:e}),void 0))}catch(t){return c(t,"findChildRankById")}},e.findSubIdeaById=function(t){return o.find(e.ideas,(function(e){return e&&e.id==t}))||o.reduce(e.ideas,(function(e,n){return e||(n?n.findSubIdeaById(t):void 0)}),void 0)},e.isEmptyGroup=function(){return!t.isRootNode(e.id)&&e.attr&&e.attr.group&&o.isEmpty(e.ideas)},e.deleteIfEmptyGroup=function(t){e.isEmptyGroup()&&k.removeSubIdea(t,e.id)},e.find=function(t){const n=t(e)?[o.pick(e,"id","title")]:[];return 0===o.size(e.ideas)?n:o.reduce(e.ideas,(function(e,n){return o.union(e,n.find(t))}),n)},e.getAttr=function(t){return!(!e.attr||!e.attr[t])&&o.clone(e.attr[t])},e.sortedSubIdeas=function(){const t=[],n=e.ideas&&o.groupBy(o.map(o.keys(e.ideas),parseFloat),(function(t){return t>0})),i=n&&o.sortBy(n[!0],Math.abs).concat(o.sortBy(n[!1],Math.abs));return e.ideas?(o.each(i,(function(n){t.push(e.ideas[n])})),t):[]},e.traverse=function(n,i){i||e===t||n(e),o.each(e.sortedSubIdeas(),(function(t){t.traverse(n,i)})),i&&e!==t&&n(e)},e},p=function(t,e){let n=[];return e=e||1,0===o.size(t)?0:(n=o.keys(t),n.push(0),o.max(o.map(n,parseFloat),(function(t){return t*e})))},g=function(e){try{return!!o.find(t.ideas,(function(t){return t.id===e}))}catch(t){return c(t,"isRootNode")}},m=function(t,e){let n=0;return t.ideas=t.ideas||{},n=function(t){let e=0,n=0,i=1;return g(t.id)&&(n=o.countBy(t.ideas,(function(t,e){return e<0})),(n.true||0)<n.false&&(i=-1)),e=p(t.ideas,i)+i,e}(t),t.ideas[n]=e,n},y=function(e){return t.id==e?t:t.findSubIdeaById(e)},x=function(t,e){return o.reject(o.map(o.keys(t.ideas),parseFloat),(function(t){return t*e<0}))},v=function(t){return t<0?-1:1},w={},b={},E={},M=function(e,n,o){o?t.dispatchEvent("changed",e,n,o):t.dispatchEvent("changed",e,n)},F=function(e,n,o,i){const r={eventMethod:e,eventArgs:n,undoFunction:o};E[i]?E[i].push(r):(w[i]||(w[i]=[]),w[i].push(r),d?t.dispatchEvent("changed","redo",void 0,i):(M(e,n,i),b[i]=[]))},C=function(t,e,n){return t.ideas[e]=t.ideas[n],delete t.ideas[n],function(){if(t.ideas[n]||!t.ideas[e])return!1;t.ideas[n]=t.ideas[e],delete t.ideas[e]}},k={},I="/xxxxxxxx-yxxx-yxxx-yxxx-xxxxxxxxxxxx/".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))+(a||""),S=function(t,e,n){const i=t&&o.extend({},t.attr);if(!t)return!1;if(t.attr=o.extend({},t.attr),!n||"false"===n||o.isObject(n)&&o.isEmpty(n)){if(!t.attr[e])return!1;delete t.attr[e]}else{if(o.isEqual(t.attr[e],n))return!1;t.attr[e]=JSON.parse(JSON.stringify(n))}return 0===o.size(t.attr)&&delete t.attr,function(){t.attr=i}},A=function(e,n){return o.find(t.links,(function(t){return t.ideaIdFrom==e&&t.ideaIdTo==n}))};return t.setConfiguration=function(t){s=t||{}},t.getSessionKey=function(){return a},t.setSessionKey=function(e){if(t.isBatchActive())throw"batch-is-active";a=e},t.nextSiblingId=function(e){const n=t.findParent(e),i=n&&n.findChildRankById(e),r=i&&x(n,i),a=r&&o.reject(r,(function(t){return Math.abs(t)<=Math.abs(i)}));return!!n&&0!==a.length&&n.ideas[o.min(a,Math.abs)].id},t.sameSideSiblingIds=function(e){let n;n=t.isRootNode(e)?t:t.findParent(e);const i=n.findChildRankById(e);return o.without(o.map(o.pick(n.ideas,x(n,i)),(function(t){return t.id})),e)},t.getAttrById=function(t,e){const n=y(t);return n&&n.getAttr(e)},t.previousSiblingId=function(e){const n=t.findParent(e),i=n&&n.findChildRankById(e),r=i&&x(n,i),a=r&&o.reject(r,(function(t){return Math.abs(t)>=Math.abs(i)}));return!!n&&0!==a.length&&n.ideas[o.max(a,Math.abs)].id},t.clone=function(e){const n=e&&e!=t.id&&t.findSubIdeaById(e)||t;return JSON.parse(JSON.stringify(n))},t.cloneMultiple=function(e){return o.map(e,t.clone)},t.calculatePath=function(e,n,i){return t.isRootNode(e)?[]:(n=n||[t],(i=i||t).containsDirectChild(e)?n:o.reduce(i.ideas,(function(o,i){return o||t.calculatePath(e,[i].concat(n),i)}),!1))},t.getSubTreeIds=function(e){const n=[],i=function(t){if(o.isEmpty(t.ideas))return[];o.each(t.sortedSubIdeas(),(function(t){i(t),n.push(t.id)}))};return i(t.findSubIdeaById(e)||t),n},t.findParent=function(e,n){if(n=n||t,t.isRootNode(e))return!1;const i=n.containsDirectChild(e);return!1===i||isNaN(i)||null==i?o.reduce(n.ideas,(function(n,o){return n||t.findParent(e,o)}),!1):n},t.isBatchActive=function(t){return!!E[t||a]},t.startBatch=function(e){const n=e||a;t.endBatch(e),E[n]=[]},t.discardBatch=function(t){E[t||a]=void 0},t.endBatch=function(t){const e=t||a,n=E[e];E[e]=void 0,o.isEmpty(n)||(1===o.size(n)?F(n[0].eventMethod,n[0].eventArgs,n[0].undoFunction,e):function(){const t=o.map(n,(function(t){return[t.eventMethod].concat(t.eventArgs)})),i=o.sortBy(o.map(n,(function(t){return t.undoFunction})),(function(t,e){return-1*e}));F("batch",t,(function(){o.each(i,(function(t){t()}))}),e)}())},t.execCommand=function(e,n,i){return!!k[e]&&k[e].apply(t,[i||a].concat(o.toArray(n)))},t.batch=function(e){const n=t.isBatchActive();let o;n||t.startBatch();try{o=e()}catch(e){throw n||t.discardBatch(),e}return n||t.endBatch(),o},k.batch=function(e){t.startBatch(e);try{o.each(o.toArray(arguments).slice(1),(function(n){t.execCommand(n[0],n.slice(1),e)}))}finally{t.endBatch(e)}},t.pasteMultiple=function(e,n){return t.batch((function(){return o.map(n,(function(n){return t.paste(e,n)}))}))},t.paste=function(){return t.execCommand("paste",arguments)},k.paste=function(e,i,r,a){const d=i==t.id?t:t.findSubIdeaById(i),c=function(t){const e=o.omit(t,"ideas","id","attr");let n,i,r=1;return e.attr=o.omit(t.attr,s.nonClonedAttributes),o.isEmpty(e.attr)&&delete e.attr,t.ideas&&(n=o.groupBy(o.map(o.keys(t.ideas),parseFloat),(function(t){return t>0})),i=o.sortBy(n[!0],Math.abs).concat(o.sortBy(n[!1],Math.abs)),e.ideas={},o.each(i,(function(n){e.ideas[r++]=c(t.ideas[n])}))),e};let l,h=0;return a&&(n=parseInt(a,10)-1),l=r&&(r.title||r.attr)&&f(c(r),function(t){const e=String(t).indexOf(".");return e>0&&t.substr(e+1)}(a)),!(!d||!l)&&(h=m(d,l),a&&u(),S(l,"position"),F("paste",[i,r,l.id],(function(){delete d.ideas[h]}),e),l.id)},t.flip=function(){return t.execCommand("flip",arguments)},k.flip=function(e,n){const o=t.findParent(n),i=o&&t.isRootNode(o.id)&&o.findChildRankById(n);return!!i&&(function(){const t=p(o.ideas,-1*v(i))-10*v(i),r=C(o,t,i);F("flip",[n],r,e)}(),!0)},t.initialiseTitle=function(){return t.execCommand("initialiseTitle",arguments)},k.initialiseTitle=function(e,n,o){const i=y(n),r=i&&i.title;return!!i&&r!==o&&(i.title=o,function(e,n,o,i){"batch"!==e&&!E[i]&&w&&w[i]&&0!==w[i].length?function(){const r=w[i].pop();"batch"===r.eventMethod?w[i].push({eventMethod:"batch",eventArgs:r.eventArgs.concat([[e].concat(n)]),undoFunction:function(){o(),r.undoFunction()}}):w[i].push({eventMethod:"batch",eventArgs:[[r.eventMethod].concat(r.eventArgs)].concat([[e].concat(n)]),undoFunction:function(){o(),r.undoFunction()}}),d?t.dispatchEvent("changed","redo",void 0,i):(M(e,n,i),b[i]=[])}():F(e,n,o,i)}("initialiseTitle",[n,o],(function(){i.title=r}),e),!0)},t.updateTitle=function(){return t.execCommand("updateTitle",arguments)},k.updateTitle=function(t,e,n){const o=y(e),i=o&&o.title;return!!o&&i!==n&&(o.title=n,F("updateTitle",[e,n],(function(){o.title=i}),t),!0)},t.addSubIdea=function(){return t.execCommand("addSubIdea",arguments)},k.addSubIdea=function(t,e,n,o,i){const r=y(e);return!!r&&(!o||!y(o))&&function(){const a=f((()=>{const t={title:n,id:o};return i&&(t.attr=i),t})()),s=m(r,a);return F("addSubIdea",[e,n,a.id,i],(function(){delete r.ideas[s]}),t),a.id}()},t.removeMultiple=function(e){let n=!1;return t.startBatch(),n=o.map(e,t.removeSubIdea),t.endBatch(),n},t.removeSubIdea=function(){return t.execCommand("removeSubIdea",arguments)},k.removeSubIdea=function(e,n){let i;try{i=t.findParent(n)||t}catch(t){return c(t,"removeSubIdea")}return(!t.isRootNode(n)||o.size(t.ideas)>1)&&function(){const r=i&&i.findChildRankById(n),a=i&&i.ideas[r],s=t.links,d={};return null!=r&&!1!==r&&!isNaN(r)&&(a.traverse((t=>d[t.id]=!0)),delete i.ideas[r],i.deleteIfEmptyGroup(e),t.links=o.reject(t.links,(function(t){return d[t.ideaIdFrom]||d[t.ideaIdTo]})),F("removeSubIdea",[n],(function(){i.ideas[r]=a,t.links=s}),e),!0)}()},t.insertIntermediateMultiple=function(e,n){return t.batch((function(){const i=t.insertIntermediate(e[0],n&&n.title);return n&&n.attr&&Object.keys(n.attr).forEach((function(e){t.updateAttr(i,e,n.attr[e])})),o.each(e.slice(1),(function(e){t.changeParent(e,i)})),i}))},t.insertIntermediate=function(){return t.execCommand("insertIntermediate",arguments)},k.insertIntermediate=function(e,n,o,i,r){const a=t.isRootNode(n)?t:t.findParent(n),s=a&&a.findChildRankById(n);return!(t.id==n||!a||i&&y(i)||!s)&&function(){const t=a.ideas[s],d=f((()=>{const t={title:o,id:i};return r&&(t.attr=r),t})());return a.ideas[s]=d,d.ideas={1:t},F("insertIntermediate",[n,o,d.id,r],(function(){a.ideas[s]=t}),e),d.id}()},t.changeParent=function(){return t.execCommand("changeParent",arguments)},k.changeParent=function(e,n,o){const i=y(o),r=t.findSubIdeaById(n),a=t.isRootNode(n)?t:t.findParent(n);return!(n==o||!i||!r||r.findSubIdeaById(o)||i.containsDirectChild(n)||!a||(function(){const t=a.findChildRankById(n),s=m(i,r),d=r.getAttr("position");S(r,"position"),delete a.ideas[t],a.deleteIfEmptyGroup(e),F("changeParent",[n,o],(function(){S(r,"position",d),a.ideas[t]=r,delete i.ideas[s]}),e)}(),0))},t.mergeAttrProperty=function(e,n,i,r){let a=t.getAttrById(e,n)||{};return r?a[i]=r:delete a[i],o.isEmpty(a)&&(a=!1),t.updateAttr(e,n,a)},t.updateAttr=function(){return t.execCommand("updateAttr",arguments)},k.updateAttr=function(t,e,n,o){const i=y(e),r=S(i,n,o);return r&&F("updateAttr",[e,n,o],r,t),!!r},t.getOrderedSiblingRanks=function(e,n){const i=t.findParent(e),r=i&&i.findChildRankById(e);return!!r&&(n&&n.ignoreRankSide?o.sortBy(o.map(o.keys(i.ideas),parseFloat)):o.sortBy(x(i,r),Math.abs))},t.moveRelative=function(e,n,o){const i=t.findParent(e),r=i&&i.findChildRankById(e),a=t.getOrderedSiblingRanks(e,o),s=a&&a.indexOf(r),d=function(){let t=s+(n>0?n+1:n);return o&&o.ignoreRankSide&&(r<0?(t=s+(n<0?n-1:n),a[t]>0&&(t+=1)):a[t]<0&&(t-=1)),t}(),c=d>=0&&a&&a.length&&a[d],u=c&&i&&i.ideas[c];let l=!1;return(!i||!(o&&o.ignoreRankSide&&r<0?d>a.length-1:d<0))&&(t.startBatch(),o&&o.ignoreRankSide&&c&&u&&c*r<0&&t.flip(e),l=t.positionBefore(e,u&&u.id,i),t.endBatch(),l)},t.positionBefore=function(){return t.execCommand("positionBefore",arguments)},k.positionBefore=function(e,n,i,r){let a,s,d,c,u,l,h;const f=r||t.findParent(n),g=f&&f.findChildRankById(n);if(!f)return!1;if(n==i)return!1;if(a=0,i){if(s=f.findChildRankById(i),!s)return!1;if(d=x(f,s),c=o.reject(o.sortBy(d,Math.abs),(function(t){return Math.abs(t)>=Math.abs(s)})),u=c.length>0?o.max(c,Math.abs):0,u==g)return!1;a=u+(s-u)/2}else{if(l=p(f.ideas,g<0?-1:1),l==g)return!1;a=l+10*(g<0?-1:1)}return a!=g&&(h=C(f,a,g),F("positionBefore",[n,i],h,e),!0)},t.addLink=function(){return t.execCommand("addLink",arguments)},k.addLink=function(e,n,i){const r={ideaIdFrom:n,ideaIdTo:i,attr:{style:{color:"red",lineStyle:"solid",arrow:"to"}}};return!!function(t,e){const n=y(t),i=y(e),r=n&&i&&(o.find(n.ideas,(function(t){return t.id===e}))||o.find(i.ideas,(function(e){return e.id===t})));return t!==e&&!!n&&!!i&&!r}(n,i)&&!function(e,n){return o.find(t.links,(function(t){return t.ideaIdFrom===e&&t.ideaIdTo===n||t.ideaIdFrom===n&&t.ideaIdTo===e}))}(n,i)&&(t.links=t.links||[],t.links.push(r),F("addLink",[n,i],(function(){t.links.pop()}),e),!0)},t.removeLink=function(){return t.execCommand("removeLink",arguments)},k.removeLink=function(e,n,o){let i,r=0;for(;t.links&&r<t.links.length;){if(i=t.links[r],i.ideaIdFrom===n&&i.ideaIdTo===o)return t.links.splice(r,1),F("removeLink",[n,o],(function(){t.links.push(i)}),e),!0;r+=1}return!1},t.getLinkAttr=function(t,e,n){const o=A(t,e);return!!(o&&o.attr&&o.attr[n])&&o.attr[n]},t.updateLinkAttr=function(){return t.execCommand("updateLinkAttr",arguments)},k.updateLinkAttr=function(t,e,n,o,i){const r=A(e,n),a=S(r,o,i);return a&&F("updateLinkAttr",[e,n,o,i],a,t),!!a},t.canUndo=function(){return!!(w[a]&&w[a].length>0)},t.canRedo=function(){return!!(b[a]&&b[a].length>0)},t.undo=function(){return t.execCommand("undo",arguments)},k.undo=function(e){let n=!1;return t.endBatch(),n=w[e]&&w[e].pop(),!(!n||!n.undoFunction||(n.undoFunction(),b[e]||(b[e]=[]),b[e].push(n),t.dispatchEvent("changed","undo",[],e),0))},t.redo=function(){return t.execCommand("redo",arguments)},k.redo=function(e){let n=!1;return t.endBatch(),n=b[e]&&b[e].pop(),!!n&&(d=!0,t.execCommand(n.eventMethod,n.eventArgs,e),d=!1,!0)},t.storeResource=function(){return t.execCommand("storeResource",arguments)},k.storeResource=function(e,n,i){return function(){if(!i&&t.resources)return o.find(o.keys(t.resources),(function(e){return t.resources[e]===n}))}()||function(){const r=i||function(){const e=o.keys(t.resources),n=a?o.filter(e,RegExp.prototype.test.bind(new RegExp("\\/"+a+"$"))):e,i=o.map(n,(function(t){return parseInt(t,10)}));return o.isEmpty(i)?0:o.max(i)}()+1+I;return t.resources=t.resources||{},t.resources[r]=n,t.dispatchEvent("resourceStored",n,r,e),r}()},t.getResource=function(e){return t.resources&&t.resources[e]},t.hasSiblings=function(e){const n=t.findParent(e);return!t.isRootNode(e)&&n&&o.size(n.ideas)>1},t.isRootNode=function(t){return g(t)},t.getDefaultRootId=function(){const e=t&&o.values(t.ideas);return e&&e.length&&e[0].id},r(t),i(t),f(t),t}},6729:(t,e,n)=>{const o=n(5634),i=n(9050);t.exports=function(t){"use strict";if(!t)return"";if("string"!=typeof t)throw"invalid-args";const e=i.escape(t);return o.formatLinks(e)}},6842:(t,e,n)=>{const o=n(5634);t.exports=function(t,e){"use strict";if(!t||!t.trim())return"";const n=function(t){return t.replace(/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\u007F\u0080-\u009F]+/gu,"")}(t),i=function(t,e){const n=t&&o.stripLink(t);return""===n.trim()?!e||t.length<e?t:t.substring(0,e)+"...":n}(n,e),r=function(t){return t.replace(/[ \t]+/g," ")}(i);return function(t){return t.replace(/\r/g,"").split("\n").map((t=>t.trim())).join("\n")}(r)}},4234:(t,e,n)=>{const o=n(9050);t.exports=function(t){"use strict";return t.attr&&t.attr.group&&o.isEmpty(t.ideas)}},8896:t=>{const e=function(t){"use strict";return t>=0},n=function(t){"use strict";return!e(t)},o=function(t,e){"use strict";return Math.abs(t)-Math.abs(e)};t.exports=function(t){"use strict";return t.ideas?function(t){const i=Object.keys(t.ideas).map(parseFloat);return i.filter(e).sort(o).concat(i.filter(n).sort(o)).map((function(e){return t.ideas[e]}))}(t):[]}},3379:(t,e,n)=>{const o=n(8896);t.exports=function t(e,n,i,r){"use strict";const a=!r&&(!e.formatVersion||e.formatVersion<3);r=r||(a?1:0),i||!a&&!r||n(e,r),o(e).forEach((function(e){t(e,n,i,r+1)})),i&&(a||r)&&n(e,r)}},5986:(t,e,n)=>{const o=n(9176),i=t=>{"use strict";return!o(t)};t.exports=function t(){"use strict";const e=Array.prototype.slice.call(arguments,0),n=e&&e[0],r=e&&e.length>1&&e.slice(1)||[];if(!n||e.find(i))throw new Error("invalid-args");return r.forEach((e=>{Object.keys(e).forEach((i=>{o(e[i])&&o(n[i])?n[i]=t({},n[i],e[i]):o(e[i])?n[i]=t({},e[i]):n[i]=e[i]}))})),n}},9176:t=>{t.exports=function(t){"use strict";return!!t&&("object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t))}},893:(t,e,n)=>{const o=n(5080),i=n(1515),r=n(8473),a=n(3332),s=n(967),d=n(4683),c={standard:n(61),"top-down":n(3106)};t.exports=function(t,e,n){"use strict";const u=n&&n.layouts||c,l=n&&n.theme||new i({}),h=new s,f=l.attributeValue(["layout"],[],["spacing"],{h:20,v:20}),p=l.attributeValue(["layout"],[],["orientation"],"standard"),g=u[p]||u.standard;return t=o(t),Object.keys(t.ideas).forEach((function(n){const o=t.ideas[n],i=g(o,e,{h:f.h||f,v:f.v||f});h.appendRootNodeLayout(i,o)})),function(t,e,n,o){return d.setThemeAttributes(t,n),{orientation:o,nodes:t,connectors:r(e,t,n),links:a(e,t),theme:e.attr&&e.attr.theme,themeOverrides:Object.assign({},e.attr&&e.attr.themeOverrides)}}(h.getCombinedLayout(10,n),t,l,p)}},8473:(t,e,n)=>{const o=n(9050);t.exports=function(t,e,n){"use strict";const i={},r=!(n&&(n.connectorEditingContext||n.blockParentConnectorOverride)),a=function(s,d,c){if(c){const a=e[s.id];if(!a)return;d!==t.id&&(i[s.id]={type:"connector",from:d,to:s.id},a.attr&&a.attr.parentConnector&&(r&&a.attr&&a.attr.parentConnector?i[s.id].attr=o.clone(a.attr.parentConnector):n&&n.connectorEditingContext&&n.connectorEditingContext.allowed&&n.connectorEditingContext.allowed.length&&(i[s.id].connectorEditingContext=n.connectorEditingContext,i[s.id].attr=o.pick(a.attr.parentConnector,n.connectorEditingContext.allowed))))}s.ideas&&Object.keys(s.ideas).forEach((function(t){a(s.ideas[t],s.id,!0)}))};return a(t),i}},3332:(t,e,n)=>{const o=n(9050);t.exports=function(t,e){"use strict";const n={};return o.each(t.links,(function(t){e[t.ideaIdFrom]&&e[t.ideaIdTo]&&(n[t.ideaIdFrom+"_"+t.ideaIdTo]={type:"link",ideaIdFrom:t.ideaIdFrom,ideaIdTo:t.ideaIdTo,attr:o.clone(t.attr)})})),n}},9385:(t,e,n)=>{const o=n(9050),i=n(5198),r=n(4529),a=function(t,e){"use strict";return t[0]*e[0]+t[1]*e[1]},s=function(t){"use strict";return{regions:t,inverted:!1}},d=function(t,e){"use strict";return!(t.length>e.length)&&o.filter(t,(function(t){return o.filter(e,(function(e){return function(t,e){return!(!t||!e||t.length!==e.length)&&o.filter(t,(function(t){return o.filter(e,(function(e){return function(t,e){return t&&e&&2===t.length&&2===e.length&&t[0]===e[0]&&t[1]===e[1]}(t,e)})).length})).length===t.length}(t,e)})).length})).length===t.length},c=function(t,e){"use strict";const n=s(e),r=o.find(t,(function(t){const o=s([t]),r=i.intersect(n,o);return d(e,r.regions)}));return r&&r.length&&r},u=function(t,e){"use strict";const n=s(t),r=s(e),a=i.intersect(n,r);return d(t,a.regions)&&!d(a.regions,e)&&c(e,a.regions)||o.flatten(a.regions,!0)},l=function(t,e,n){"use strict";const o=[t[0]-e[0],t[1]-e[1]],i=a(n,o),r=a(n,n),s=[e[0]+i*n[0]/r,e[1]+i*n[1]/r];if(!n[0]&&!n[1])throw new Error("invalid-args");return s},h=function(t,e,n,i){"use strict";const r=function(t){const o=t[0]-e[0],i=t[1]-e[1];return((0===o?0===n[1]?1:i/n[1]:0===n[0]?1:o/n[0])>=0?1:-1)*(Math.pow(o,2)+Math.pow(i,2))},a=o.filter(t,(function(t){return i?r(t)<0:r(t)>=0}));return o.sortBy(a,r)},f=function(t){"use strict";return[Math.round(t[0]),Math.round(t[1])]},p=function(t,e){"use strict";const n=t[0]+e[0],o=t[1]+e[1];if(isNaN(n)||isNaN(o))throw new Error("invalid-args");return[n,o]},g=function(t,e){"use strict";const n=t[0]-e[0],o=t[1]-e[1];if(isNaN(n)||isNaN(o))throw new Error("invalid-args");return[n,o]},m=function(t,e){"use strict";return t.map((function(t){return t.map((function(t){return f(p(t,e))}))}))},y=function(t,e,n){"use strict";const i=o.flatten(t,!0).map((function(t){return l(t,e,n)})),r=h(i,e,n,!0);return r.length&&r[0]},x=function(t,e,n,o){"use strict";const i=u(t,e).map((function(t){return l(t,n,o)})),r=h(i,n,o);return r.length&&r.pop()},v=function(t,e,n){"use strict";const o=y(t,e,n),i=o&&f(g(e,o));return!!o&&{translation:i,translatedPoly:m(t,i)}},w=function(t,e,n,o,i,r){"use strict";const a=y(t,n,o)||n,s=x(t,e,a,o);let d;return r=r||0,i=i||[0,0],s&&(d=v(t,s,o),d&&(i=p(i,d.translation),n=p(n,d.translation),r<100))?w(d.translatedPoly,e,n,o,i,r+1):{translation:i,translatedPoly:t}};t.exports={tolayoutPolygonRect:function(t,e){"use strict";let n=0,i=0,r=0,a=0;return o.each(t,(function(t){n=Math.min(n,t.x),i=Math.max(i,t.x+t.width),r=Math.min(r,t.y),a=Math.max(a,t.y+t.width)})),n-=e,i+=e,r-=e,a+=e,[[f([n,r]),f([i,r]),f([i,a]),f([n,a])]]},tolayoutPolygonHull:function(t,e){"use strict";const n=function(t,e){const n=[];return o.each(t,(function(t){const o=Math.round(t.x-e),i=Math.round(t.x+t.width+e),r=Math.round(t.y-e),a=Math.round(t.y+t.height+e);n.push([o,r]),n.push([o,a]),n.push([i,a]),n.push([i,r])})),n}(t,e),i=r(n);return[o.map(i,(function(t){return n[t]}))]},furthestIntersectionPoint:x,projectPointOnLineVector:l,orderPointsOnVector:h,firstProjectedPolyPointOnVector:y,translatePoly:m,addVectors:p,subtractVectors:g,translatePolyToIntersecton:v,translatePolyToNotOverlap:w,unitVector:function(t){"use strict";const e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return 0===e?[0,0]:[t[0]/e,t[1]/e]},roundVector:f,polygonIntersectionPoints:u,shapeContainingIntersection:c,extension:function(t){"use strict";return Math.pow(t[0],2)+Math.pow(t[1],2)}}},982:(t,e,n)=>{const o=n(9050),i=n(9762);t.exports=function(t){"use strict";let e;const n=this,r=.5,a=function(t){const n=e&&o.values(e.nodes),i=n&&o.filter(n,t);return n&&i.length&&i},s=function(t,e){return a((function(n){const o=n.y+n.height-(t.y+t.height),i=t.x-Math.abs(o*e),r=t.x+t.width+Math.abs(o*e);return!(n.id===t.id||n.y<=Math.round(t.y+.5*t.height)||void 0!==e&&(n.x>r||n.x+n.width<i))}))},d=function(t,e){return a((function(n){const o=n.x+n.width-(t.x+t.width),i=t.y-Math.abs(o*e),r=t.y+t.height+Math.abs(o*e);return!(n.id===t.id||n.x<=Math.round(t.x+.5*t.width)||void 0!==e&&(n.y>r||n.y+n.height<i))}))},c=function(t,e){return a((function(n){const o=n.y-t.y,i=t.x-Math.abs(o*e),r=t.x+t.width+Math.abs(o*e);return!(n.id===t.id||n.y+n.height>=Math.round(t.y+.5*t.height)||void 0!==e&&(n.x>r||n.x+n.width<i))}))},u=function(t,e){return a((function(n){const o=n.x-t.x,i=t.y-Math.abs(o*e),r=t.y+t.height+Math.abs(o*e);return!(n.id===t.id||n.x+n.width>=Math.round(t.x+.5*t.width)||void 0!==e&&(n.y>r||n.y+n.height<i))}))},l=function(t,e,n,i){const r={x:Math.round(t.x+.5*t.width),y:Math.round(t.y+.5*t.height)},a=function(t,e){const o=n*(t.x-e.x),r=i*(t.y-e.y);return Math.pow(o,2)+Math.pow(r,2)};return!!e&&(1===e.length?e[0]:o.min(e,(function(t){const e=[a(t,r),a({x:t.x+t.width,y:t.y+t.height},r),a({x:t.x+t.width,y:t.y},r),a({x:t.x,y:t.y+t.height},r),a({x:Math.round(t.x+.5*t.width),y:Math.round(t.y+.5*t.height)},r)];return o.min(e)})))},h=(t,e,i,r)=>{if("standard"===n.getOrientation()){const n=e.filter((e=>t.parentId&&t.parentId===e.parentId));if(n.length)return o.min(n,(e=>Math.abs(e.y-t.y)))}return l(t,e,i,r)};n.getNode=function(t){return e&&e.nodes&&e.nodes[t]},n.isRootNode=function(t){return e&&e.nodes&&e.nodes[t]&&1===e.nodes[t].level},n.getNodeBox=function(t){return i(n.getNode(t))},n.setLayout=function(n){e=n||t},n.getLayout=function(){return e||t},n.nodeIdLeft=function(t){const e=n.getNode(t),o=e&&(u(e,r)||u(e)),i=o&&l(e,o,1,3);return i&&i.id},n.nodeIdRight=function(t){const e=n.getNode(t),o=e&&(d(e,r)||d(e)),i=o&&l(e,o,1,3);return i&&i.id},n.nodeIdUp=function(t){const e=n.getNode(t),o=e&&(c(e,r)||c(e)),i=o&&h(e,o,3,1);return i&&i.id},n.nodeIdDown=function(t){const e=n.getNode(t),o=e&&(s(e,r)||s(e)),i=o&&h(e,o,3,1);return i&&i.id},n.getOrientation=function(){return e&&e.orientation||"standard"},n.layoutBounds=function(){let t,n,i,r;return!o.isEmpty(e.nodes)&&(o.each(e.nodes,(function(e){t?(t=Math.min(e.x,t),n=Math.min(e.y,n),i=Math.max(e.x+e.width,i),r=Math.max(e.y+e.height,r)):(t=e.x,n=e.y,i=e.x+e.width,r=e.y+e.height)})),{minX:t,minY:n,maxX:i,maxY:r,width:i-t,height:r-n})},n.clipRectTransform=function(t,e){let o=e&&e.scale||1;const i=n.getNode(t),r=n.layoutBounds(),a=e&&e.padding||0,s=i.x+i.width/2,d=i.y+i.height/2;return e&&e.clipRect?{x:e.clipRect.width/2-s,y:e.clipRect.height/2-d,width:e.clipRect.width,height:e.clipRect.height,scale:o}:e&&e.page?(o=Math.min((e.page.width-2*a)/r.width,(e.page.height-2*a)/r.height),{x:-1*r.minX+Math.floor(.5*(e.page.width/o-r.width)),y:-1*r.minY+Math.floor(.5*(e.page.height/o-r.height)),width:e.page.width,height:e.page.height,scale:o}):{x:-1*r.minX+Math.floor(a/o),y:-1*r.minY+Math.floor(a/o),width:r.width*o+2*a,height:r.height*o+2*a,scale:o}}}},967:(t,e,n)=>{const o=n(9050),i=n(9385);t.exports=function(){"use strict";const t=function(t){const e=t&&t.attr&&t.attr.position||[0,0,0];return{x:e[0],y:e[1],priority:e[2]}},e=function(e){let n=t(e.rootIdea);return e.rootNode?(n&&n.priority||(n={x:Math.round(e.rootNode.width/-2),y:Math.round(e.rootNode.height/-2)}),{x:n.x-e.rootNode.x,y:n.y-e.rootNode.y}):{x:0,y:0}},n=[],r=[];this.appendRootNodeLayout=function(e,o){const i=function(t,e){return{rootIdea:e,rootNode:t[e.id],rootLayout:t}}(e,o);!function(e){return t(e).priority}(o)?r.push(i):n.push(i)},this.getCombinedLayout=function(a,s){let d=[],c={};const u={x:0,y:0},l=s&&s.contextNode,h=l&&n.find((t=>t.rootLayout[l])),f=h||n.length&&o.max(n,(function(e){return t(e.rootIdea).priority})),p=[],g=n.length+r.length>1,m=function(t){let n,r;const s=e(t),c=i.roundVector([s.x,s.y]);r=g&&i.translatePoly(i.tolayoutPolygonHull(t.rootLayout,a),c),t&&!o.contains(p,t)&&(p.length?function(){const t=i.unitVector([s.x-u.x,s.y-u.y]),e=[Math.sign(t[0])||1,0],o=[0,Math.sign(t[1])||1],a=i.translatePolyToNotOverlap(r,d,c,e,c),l=i.extension(i.subtractVectors(a.translation,c)),h=l&&i.translatePolyToNotOverlap(r,d,c,o,c),f=h&&i.extension(i.subtractVectors(h.translation,c));!f||l<f?(n={x:a.translation[0],y:a.translation[1]},r=a.translatedPoly):(n={x:h.translation[0],y:h.translation[1]},r=h.translatedPoly)}():n=s,function(t,e){o.each(t.rootLayout,(function(n){n.x=n.x+e.x,n.y=n.y+e.y,n.rootId=t.rootIdea.id}))}(t,n),p.push(t),g&&(d=d.concat(r)))};if(!a)throw new Error("invalid-args");return f&&(m(f),h&&(u.x=h.rootLayout[l].x,u.y=h.rootLayout[l].y)),n.forEach((t=>t.distance=function(t){const n=e(t),o=Object.keys(t.rootLayout).map((e=>{return o=t.rootLayout[e],Math.pow(n.x+o.x+o.width/2-u.x,2)+Math.pow(n.y+o.y+o.height/2-u.y,2);var o}));return Math.min.apply({},o)}(t))),n.sort(((t,e)=>t.distance-e.distance)).forEach(m),r.forEach(m),p.forEach((function(t){c=o.extend(c,t.rootLayout)})),c}}},4683:(t,e,n)=>{const o=n(3486),i=n(9050),r="theme_inherit",a=(t,e,n)=>{"use strict";let i=[];return t.attr?n.forEach((n=>{const a=o.getValue(t.attr,n);a&&a!==r?o.setValue(e.attr,n,a):i.push(n)})):i=n,i},s=(t,e,n)=>{"use strict";if(!e||!e.parentId)return;const o=t[e.parentId],i=o&&a(o,e,n)||[];i.length&&o&&o.parentId&&(s(t,o,i),a(o,e,i))},d=(t,e)=>{"use strict";if(!e||!e.parentId||!e.attr)return;const n=o.keyComponentsWithValue(e.attr,r);n&&n.length&&s(t,e,n)};t.exports={INHERIT_MARKER:r,inheritAttributes:d,inheritAttributeKeys:s,inheritAttributeKeysFromParentNode:a,setThemeAttributes:function(t,e){"use strict";if(!t||!e)throw"invalid-args";Object.keys(t).forEach((function(n){const o=t[n];o.styles=e.nodeStyles(o.level,o.attr),o.attr=i.extend({},e.getLayoutConnectorAttributes(o.styles),o.attr)})),Object.keys(t).forEach((function(e){const n=t[e];d(t,n)}))}}},9762:t=>{t.exports=function(t){"use strict";return!!t&&{left:t.x,top:t.y,width:t.width,height:t.height,level:t.level,styles:t.styles||["default"]}}},61:(t,e,n)=>{const o=n(9050),i=n(7872);t.exports=function(t,e,n){"use strict";const r=i.calculateTree(t,e,n,(function(e,n){return n!==t.id||e>0})),a=i.calculateTree(t,e,n,(function(e,n){return n!==t.id||e<0})),s=r.toLayout(),d=a.toLayout();return o.each(d.nodes,(function(t){t.x=-1*t.x-t.width})),o.extend(d.nodes,s.nodes)}},4649:(t,e,n)=>{const o=n(9050),i=function(t){"use strict";return o.reduce(t,(function(t,e){return t+e.l}),0)},r=function(t,e){"use strict";let n=0,o=-1;for(;n<=e;){if(o+=1,o>=t.length)return-1;n+=t[o].l}return o},a=function(t,e){"use strict";let n,o=t.slice();const a=i(t),s=r(e,a);return s>=0&&(n=i(e.slice(0,s+1)),o.push({h:e[s].h,l:n-a}),o=o.concat(e.slice(s+1))),o},s=function(t,e){"use strict";const n=function(t,e){return o.map(t,(function(t){return{l:t.l,h:t.h+e}}))};this.initialHeight=function(){return this.bottom[0].h-this.top[0].h},this.borders=function(){return o.pick(this,"top","bottom")},this.spacingAbove=function(t){let e=0,n=0,o=0,i=0,r=0;for(;e<this.bottom.length&&n<t.top.length;)o=Math.max(o,this.bottom[e].h-t.top[n].h),i+this.bottom[e].l<r+t.top[n].l?(i+=this.bottom[e].l,e+=1):i+this.bottom[e].l===r+t.top[n].l?(i+=this.bottom[e].l,e+=1,r+=t.top[n].l,n+=1):(r+=t.top[n].l,n+=1);return o},this.indent=function(t,e){const n=this.top.slice(),o=this.bottom.slice(),i=Math.round((o[0].h+n[0].h)/2);return t?(n.unshift({h:Math.round(i-e/2),l:t}),o.unshift({h:Math.round(i+e/2),l:t}),new s(n,o)):this},this.stackBelow=function(t,e){const o=t.spacingAbove(this),i=a(t.top,n(this.top,o+e)),r=a(n(this.bottom,o+e),t.bottom);return new s(i,r)},this.expand=function(t,e){const o=t-this.top[0].h,i=e-this.bottom[0].h,r=n(this.top,o),a=n(this.bottom,i);return new s(r,a)},this.insertAtStart=function(t,e){const o=n(this.top,0),i=n(this.bottom,0),r=function(t){t[0].l*=.5,t[1].l+=t[0].l};return o[0].l+=e,i[0].l+=e,o.unshift({h:Math.round(-.5*t.height),l:t.width}),i.unshift({h:Math.round(.5*t.height),l:t.width}),o[0].h>o[1].h&&r(o),i[0].h<i[1].h&&r(i),new s(o,i)},this.top=t.slice(),this.bottom=e.slice()};t.exports={borderLength:i,borderSegmentIndexAt:r,extendBorder:a,Outline:s,outlineFromDimensions:function(t){"use strict";return new s([{h:Math.round(-.5*t.height),l:t.width}],[{h:Math.round(.5*t.height),l:t.width}])}}},7872:(t,e,n)=>{const o=n(9050),i=n(4234),r=n(4649),a=function(t){"use strict";o.extend(this,t),this.toLayout=function(t,e,n){const i={nodes:{},connectors:{}},r=o.pick(this,"id","title","attr","width","textWidth","height","level");return n&&(r.parentId=n),t=t||0,e=e||0,1===r.level?(r.x=Math.round(-.5*this.width),r.y=Math.round(-.5*this.height)):(r.x=t+this.deltaX||0,r.y=e+this.deltaY||0),i.nodes[this.id]=r,void 0!==n&&(i.connectors[r.id]={from:n,to:r.id}),this.subtrees&&this.subtrees.forEach((function(t){const e=t.toLayout(r.x,r.y,r.id);o.extend(i.nodes,e.nodes),o.extend(i.connectors,e.connectors)})),i}},s=function(t,e,n,d,c){"use strict";const u={id:t.id,title:t.title,attr:t.attr,deltaY:0,deltaX:0,level:c||1},l=e(t,u.level);return o.extend(u,l),u.outline=r.outlineFromDimensions(l),o.isEmpty(t.ideas)||t.attr&&t.attr.collapsed||(u.subtrees=o.map(function(){const e=[];return o.each(function(){const e=o.map(o.keys(t.ideas),parseFloat),n=d?o.filter(e,(function(e){return d(e,t.id)})):e,r=o.filter(n,(function(e){return!i(t.ideas[e])}));return o.sortBy(r,Math.abs)}(),(function(n){e.push(t.ideas[n])})),e}(),(function(t){return s(t,e,n,d,u.level+1)})),o.isEmpty(u.subtrees)||function(t){let e,i,r,a,s;o.each(t,(function(t){t.deltaX=l.width+n.h,r=t.attr&&t.attr.position&&t.attr.position[0],r&&r>t.deltaX?(a=r-t.deltaX,t.deltaX=r):a=0,e?(s=t.outline.indent(a,n.h),i=s.initialHeight(),e=s.stackBelow(e,n.v),t.deltaY=Math.round(e.initialHeight()-i/2-t.height/2)):e=t.outline.indent(a,n.h)})),t&&t.length&&(function(t,e){const n=function(t,e,n){let o,i;const r=function(e){const o=n[e].deltaY-n[e-1].deltaY,r=t[e].deltaY-t[e-1].deltaY;r<o&&(i.deltaY+=o-r)};for(let n=0;n<t.length;n+=1)i=t[n],i.attr&&i.attr.position?(i.deltaY=i.attr.position[1],(void 0===o||i.attr.position[2]>t[o].attr.position[2])&&(o=n)):i.deltaY+=e,n>0&&r(n);return o}(t,e,o.map(t,(function(t){return o.pick(t,"deltaX","deltaY")}))),i=n&&t[n].attr.position[1]-t[n].deltaY;if(i)for(let e=0;e<t.length;e+=1)t[e].deltaY+=i}(t,Math.round(.5*(l.height-e.initialHeight()))),e=e.expand(Math.round(t[0].deltaY-.5*l.height),Math.round(t[t.length-1].deltaY+t[t.length-1].height-.5*l.height))),u.outline=e.insertAtStart(l,n.h)}(u.subtrees)),new a(u)};t.exports={Tree:a,calculateTree:s}},2648:(t,e,n)=>{const o=n(9050),i=n(1827),r=n(2610);t.exports=function(t,e,n){"use strict";if(!n)throw"invalid-args";const a=t.nodes,s=a[e.id],d=o.values(e.ideas).map((function(t){return t.id})).map((function(t){return a[t]})).filter((function(t){return t})),c=r(d),u=function(){const t=c[c.length-1];return{left:c[0].x,right:t.x+t.width}},l=o.values(a).filter((function(t){return t.level===s.level&&t.id!==s.id}));!function(){if(!d.length)return;const t=u();let e=t.left+(t.right-t.left)/2-i(d,n)/2;c.forEach((t=>{t.x=e,e=e+t.width+n}))}(),function(){if(!d.length)return;const t=u();s.x=t.left,s.width=t.right-t.left}(),l.forEach((function(t){t.verticalOffset=(t.verticalOffset||0)+s.height}))}},3106:(t,e,n)=>{const o=n(9050),i=n(4234),r=n(2648),a=n(6134);t.exports=function(t,e,n){"use strict";const s=function(t){return t.attr&&t.attr.group},d=function(t,e,n,i){const r={},a=!(o.isEmpty(t.ideas)||t.attr&&t.attr.collapsed);return n=n||1,a&&Object.keys(t.ideas).forEach((function(o){const i=s(t)?n:n+1,a=d(t.ideas[o],e,i,t.id);a&&(r[o]=a)})),e(t,r,n,i)},c=d(t,(function(d,c,u,l){return(d===t||!i(d))&&function(t,i,d,c){const u=function(t,n,i){const r=e(t,n),a=o.extend({level:n,verticalOffset:0,title:s(t)?"":t.title},r,o.pick(t,["id","attr"]));return i&&(a.parentId=i),a}(t,d,c);let l;return s(u)&&!o.isEmpty(t.ideas)?(l=a(u,i,n.h,!0),r(l,t,n.h)):l=a(u,i,n.h),l}(d,c,u,l)}));var u,l;return u=c.nodes,l=function(t){const e=[],i=[];let r,a=0;for(o.each(t,(function(t){e[t.level-1]=Math.max(e[t.level-1]||0,t.height+t.verticalOffset)})),a=e.reduce((function(t,e){return t+e}),0)+n.v*(e.length-1),i[0]=Math.round(-.5*a),r=1;r<e.length;r++)i[r]=i[r-1]+n.v+e[r-1];return i}(c.nodes),o.each(u,(function(t){t.y=l[t.level-1]+t.verticalOffset,delete t.verticalOffset})),c.nodes}},6134:(t,e,n)=>{const o=n(9050),i=n(5531);t.exports=function(t,e,n,r){"use strict";const a={nodes:{}},s=new i(e,n);let d;if(Array.isArray(e))throw"child layouts are an array!";return a.nodes[t.id]=t,t.x=Math.round(-.5*t.width),a.levels=[{width:t.width,xOffset:t.x}],s.isEmpty()||(r?(a.levels=s.getMergedLevels(),d=a.levels[0].xOffset):(a.levels=a.levels.concat(s.getMergedLevels()),d=a.levels[1].xOffset),Object.keys(e).forEach((function(t){var n,i;o.extend(a.nodes,(n=e[t].nodes,i=d+s.getExpectedTranslation(t),o.each(n,(function(t){t.x+=i})),n))}))),a}},1827:t=>{t.exports=function(t,e){"use strict";return t&&t.length?t.reduce(((t,e)=>t+e.width),0)+(t.length-1)*e:0}},2610:t=>{t.exports=function(t){"use strict";return t&&t.length?[].concat(t).sort(((t,e)=>t.x-e.x)):t}},5531:(t,e,n)=>{const o=n(9050);t.exports=function(t,e){"use strict";const n=this,i=function(){return t?o.sortBy(Object.keys(t),parseFloat):[]},r=e||0,a=function(){const e=i(),n={};let a;return(o.isEmpty(t)?[]:i().map((function(e){return t[e]}))).forEach((function(t,o){const i=e[o];void 0===a?(n[i]=0-t.levels[0].xOffset,a=t.levels.map((function(t){return t.width+n[i]+t.xOffset}))):(t.levels.forEach((function(t,e){const o=a[e];void 0!==o&&(void 0===n[i]?n[i]=o+r-t.xOffset:n[i]=Math.max(n[i],o+r-t.xOffset))})),t.levels.forEach((function(t,e){a[e]=n[i]+t.xOffset+t.width})))})),n}();n.getLevelWidth=function(e){const o=i().filter((function(t){return n.existsOnLevel(t,e)})),r=o[0],a=o[o.length-1],s=t[r],d=t[a],c=s.levels[e].xOffset+n.getExpectedTranslation(r);return d.levels[e].xOffset+n.getExpectedTranslation(a)+d.levels[e].width-c},n.getLevelWidths=function(){const e=[],i=o.max(o.map(t,(function(t){return t.levels.length})));for(let t=0;t<i;t++)e.push(n.getLevelWidth(t));return e},n.isEmpty=function(){return o.isEmpty(t)},n.getExpectedTranslation=function(t){return a[t]},n.existsOnLevel=function(e,n){return t[e].levels.length>n},n.getMergedLevels=function(){const e=Math.round(-.5*n.getLevelWidth(0));return n.getLevelWidths().map((function(o,r){const a=i().filter((function(t){return n.existsOnLevel(t,r)}))[0];return{width:o,xOffset:t[a].levels[r].xOffset+n.getExpectedTranslation(a)+e}}))}}},329:(t,e,n)=>{const o=n(9050),i=n(2612),r=n(982),a=n(110),s=n(2329),{default:d}=n(1749);t.exports=function(t,e,c,u){"use strict";let l,h,f,p,g,m,y,x=!0,v=!0,w=!1,b=!1,E=[];const M=this,F=u&&u.autoThemedIdeaUtils||n(5943),C=e||new i,k=u&&u.reorderMargin||20,I=u&&u.layoutModel||new r({nodes:{},connectors:{}}),S=function(t,e){const n=Object.keys(l.ideas).map((t=>l.ideas[t])),o=e||m(l,t);n.forEach((t=>{const e=t.attr&&t.attr.position,n=o.nodes&&o.nodes[t.id];n&&(!e||e[0]!==n.x||e[1]!==n.y)&&l.updateAttr(t.id,"position",[n.x,n.y,1])}))},A=(t,e,n,o)=>{const i=w&&w();return F.addSubIdea(l,i,t,e,n,o)},L=(t,e)=>{const n=w&&w();return F.changeParent(l,n,t,e)},N=function(t){const e=o.clone(E);E=0===t.length?[y]:t,M.dispatchEvent("activatedNodesChanged",o.difference(E,e),o.difference(e,E))},P=function(t){p=y,g=E.slice(0),M.selectNode(t)},T=function(t){P(t),M.editNode(!1,!0,!0)},R=function(){return y||l.getDefaultRootId()},j=function(t,e,n){b||(p=!1,g=!1,M.rebuildRequired(n))},O=function(){return l.findSubIdeaById(y)||l},B=function(t,e){(l.findSubIdeaById(e)||l).getAttr("collapsed")&&l.updateAttr(e,"collapsed",!1)},_=function(t,e,n){const o=l.findSubIdeaById(e)||l;let i;return B(0,e),i=n?A(e,n):A(e),"top-down"===I.getOrientation()&&o.findChildRankById(i)<0&&l.flip(i),i},D=function(t,e){const n=e&&I.getNode(e);n&&l.updateAttr(t,"position",[n.x+n.width+2*k,n.y,1])},z=function(t,e){e?M.dispatchEvent("analytic","mapModel",t,e):M.dispatchEvent("analytic","mapModel",t)};a(this),M.pause=function(){b=!0},M.resume=function(){b=!1,M.rebuildRequired()},M.getIdea=function(){return l},M.isEditingEnabled=function(){return v},M.getCurrentLayout=function(){return I.getLayout()},M.analytic=z,M.getCurrentlySelectedIdeaId=R,M.rebuildRequired=function(t){if(!l)return;const e=I.getLayout(),n=e.theme!==(l.attr&&l.attr.theme),i=l.attr&&l.attr.themeOverrides,r=e&&e.themeOverrides,a=!o.isEqual(i||{},r||{}),d=n||a;d&&M.dispatchEvent("themeChanged",l.attr&&l.attr.theme,l.attr&&l.attr.themeOverrides),function(t,e,n){let i;const r=I.getLayout(),a=(t,e)=>!(!t||!e||e.x===t.x&&e.y===t.y);M.dispatchEvent("layoutChangeStarting",o.size(t.nodes)-o.size(r.nodes)),function(t){const e=f&&f(l);e&&o.each(t.nodes,(function(t,n){(e[n]||0===e[n])&&(t.label=e[n])}))}(t),o.each(r.connectors,(function(e,n){const o=t.connectors&&t.connectors[n];o&&o.from===e.from&&o.to===e.to||M.dispatchEvent("connectorRemoved",e)})),o.each(r.links,(function(e,n){t.links&&t.links[n]||M.dispatchEvent("linkRemoved",e)})),o.each(r.nodes,(function(n,i){let r;t.nodes[i]||(i==y&&M.selectNode(function(t,e){const n=o.min(t,(function(t){return Math.pow(t.x+t.width/2-e.x-e.width/2,2)+Math.pow(t.y+t.height/2-e.y-e.height/2,2)}));return n&&n.id}(t.nodes,n)),r=o.reject(E,(function(t){return t==i})),r.length!==E.length&&N(r),M.dispatchEvent("nodeRemoved",n,i,e))})),o.each(t.nodes,(function(t,i){const s=r.nodes[i];s?(a(t,s)&&M.dispatchEvent("nodeMoved",t,e),t.width===s.width&&t.height===s.height&&t.level===s.level&&o.isEqual(t.attr||{},s.attr||{})&&!n||M.dispatchEvent("nodeAttrChanged",t,e),t.title!==s.title&&M.dispatchEvent("nodeTitleChanged",t,e),t.label!==s.label&&M.dispatchEvent("nodeLabelChanged",t,e)):M.dispatchEvent("nodeCreated",t,e)})),o.each(t.connectors,(function(n,i){const s=r.connectors[i];s&&!o.isEqual(s.attr||{},n.attr||{})?M.dispatchEvent("connectorAttrChanged",n):((e,n)=>{if(!e||!n||e.from!==n.from||e.to!==n.to)return!1;const o=r.nodes[e.from],i=r.nodes[e.to],s=t.nodes[n.from],d=t.nodes[n.to];return a(o,s)||a(i,d)})(s,n)&&M.dispatchEvent("connectorMoved",n),s&&n.from===s.from&&n.to===s.to||M.dispatchEvent("connectorCreated",n,e)})),o.each(t.links,(function(t,n){const i=r.links&&r.links[n];i?o.isEqual(t.attr||{},i&&i.attr||{})||M.dispatchEvent("linkAttrChanged",t,e):M.dispatchEvent("linkCreated",t,e)})),n&&(i={themeChanged:!0}),I.setLayout(t),s.idea_pp(l),M.isInCollapse||M.dispatchEvent("layoutChangeComplete",i)}(M.reactivate(m(l)),t,d)},this.setIdea=function(t,e){const n=y;if(!m)throw new Error("layout calculator not set");l&&(l.removeEventListener("changed",j),b=!1,N([]),M.dispatchEvent("nodeSelectionChanged",y,!1),y=void 0),l=t,l.addEventListener("changed",j),j(),e&&l.findSubIdeaById(n)?M.selectNode(n,!0):(M.selectNode(l.getDefaultRootId(),!0),M.dispatchEvent("mapViewResetRequested"))},this.setEditingEnabled=function(t){v=t},this.getEditingEnabled=function(){return v},this.setInputEnabled=function(t,e,n,o){void 0===n&&(n="true"===e.setInputEnabled),x!==n&&(x=n,M.dispatchEvent("inputEnabledChanged",n,!!o))},this.getInputEnabled=function(){return x},this.selectNode=function(t,e,n){(e||x&&(t!==y||!M.isActivated(t)))&&(y&&M.dispatchEvent("nodeSelectionChanged",y,!1),y=t,n?M.activateNode("internal",t):N([t]),M.dispatchEvent("nodeSelectionChanged",t,!0))},this.clickNode=function(t,e){const n=e&&e.button&&-1!==e.button,o=e.which;e&&e.altKey?M.toggleLink("mouse",t):e&&e.shiftKey?M.toggleActivationOnNode("mouse",t):h&&!n?(this.toggleLink("mouse",t),this.toggleAddLinkMode()):o?(this.selectNode(t),n&&-1!==n&&x&&M.dispatchEvent("contextMenuRequested",t,e.layerX,e.layerY)):M.dispatchEvent("nodeClicked",t,e)},this.findIdeaById=function(t){return l.id==t?l:l.findSubIdeaById(t)},this.getSelectedStyle=function(t){return this.getStyleForId(y,t)},this.getStyleForId=function(t,e){const n=I.getNode(t);return n&&n.attr&&n.attr.style&&n.attr.style[e]},this.toggleCollapse=function(t){const e=O();let n;n=M.isActivated(e.id)&&o.size(e.ideas)>0?e.getAttr("collapsed"):M.everyActivatedIs((function(t){const e=M.findIdeaById(t);return!(e&&o.size(e.ideas)>0)||e.getAttr("collapsed")})),this.collapse(t,!n)},this.collapse=function(t,e){const n=R(),i=function(){return I.getNode(n)},r=i();let a=!1;var s,d,c,u;z("collapse:"+e,t),M.isInCollapse=!0,x&&M.applyToActivated((function(t){const n=M.findIdeaById(t);n&&(!e||n.ideas&&o.size(n.ideas)>0)&&l.updateAttr(t,"collapsed",e)})),a=i(),r&&a&&(d=I.getLayout().nodes,c=r.x-a.x,u=r.y-a.y,(c||u)&&o.each(d,(function(t){t.x+=c,t.y+=u,M.dispatchEvent("nodeMoved",t,"scroll")})),(s=I.getLayout().connectors)&&Object.keys(s).forEach((t=>M.dispatchEvent("connectorMoved",s[t])))),M.isInCollapse=!1,M.dispatchEvent("layoutChangeComplete")},this.updateStyle=function(t,e,n){if(!v)return!1;x&&(z("updateStyle:"+e,t),M.applyToActivated((function(t){M.getStyleForId(t,e)!=n&&l.mergeAttrProperty(t,"style",e,n)})))},this.updateLinkStyle=function(t,e,n,i,r){const a=o.extend({},l.getLinkAttr(e,n,"style"));if(!v)return!1;x&&(z("updateLinkStyle:"+i,t),"arrow"===i&&(r=!a.arrow&&"to"),a[i]=r,l.updateLinkAttr(e,n,"style",a))},this.addSubIdea=function(t,e,n){const o=e||y;let i;if(!v)return!1;z("addSubIdea",t),x&&(l.batch((function(){i=_(0,o,n),S(i)})),i&&(n?P(i):T(i)))},M.addGroupSubidea=function(t,e){const n=e&&e.parentId,o=e&&e.group||!0,i=n||y;let r,a;if(!v)return!1;z("addGroupSubidea",t),x&&(l.batch((function(){r=_(0,i,"group"),r&&(l.updateAttr(r,"contentLocked",!0),l.updateAttr(r,"group",o),a=A(r)),S(a)})),a&&T(a))},this.insertIntermediate=function(t){const e=[];let n=!1;return!!v&&!!x&&(z("insertIntermediate",t),M.applyToActivated((function(t){e.push(t)})),n=((t,e)=>{const n=w&&w();return F.insertIntermediateMultiple(l,n,t,void 0)})(e),void(n&&T(n)))},this.flip=function(t){const e=I.getNode(y);return!!v&&(z("flip",t),!(!x||l.isRootNode(y))&&!(!e||2!==e.level)&&l.flip(y))},this.addSiblingIdeaBefore=function(t){let e,n,o,i;return!!v&&(z("addSiblingIdeaBefore",t),!!x&&(n=l.isRootNode(y)?l:l.findParent(y),l.batch((function(){n!==l&&B(0,n.id),e=A(n.id),e&&(n===l?D(e,y):(o=n.findChildRankById(y),i=n.findChildRankById(e),o*i<0&&l.flip(e),l.positionBefore(e,y)),S(e))})),void(e&&T(e))))},this.addSiblingIdea=function(t,e,n){let o,i,r,a,s;const d=e||y;if(!v)return!1;z("addSiblingIdea",t),x&&(r=l.isRootNode(d)?l:l.findParent(d),l.batch((function(){r!==l&&B(0,r.id),o=n?A(r.id,n):A(r.id),o&&(r===l?D(o,y):(i=l.nextSiblingId(d),a=r.findChildRankById(d),s=r.findChildRankById(o),a*s<0&&l.flip(o),i&&l.positionBefore(o,i)),S(o))})),o&&(n?P(o):T(o)))},this.removeSubIdea=function(t){let e;return!!v&&(z("removeSubIdea",t),x&&M.applyToActivated((function(t){e=l.removeSubIdea(t)})),e)},this.updateTitle=function(t,e,n){l.batch((()=>{n?l.initialiseTitle(t,e):l.updateTitle(t,e),S(t)}))},this.editNode=function(e,n,i){const r=O(),a=r.title;return!!v&&(e&&z("editNode",e),!!x&&(!r.attr||!r.attr.contentLocked)&&(o.include(t,a)&&(n=!0),void M.dispatchEvent("nodeEditRequested",y,n,!!i)))},this.scaleUp=function(t){M.scale(t,1.25)},this.scaleDown=function(t){M.scale(t,.8)},this.scale=function(t,e,n){x&&(M.dispatchEvent("mapScaleChanged",e,n),z(e<1?"scaleDown":"scaleUp",t))},this.move=function(t,e,n){x&&(M.dispatchEvent("mapMoveRequested",e,n),z("move",t))},this.resetView=function(t){const e=I.getNode(y),n=e&&e.rootId||l&&l.getDefaultRootId();n&&x&&(z("resetView",t),M.selectNode(n),M.dispatchEvent("mapViewResetRequested"))},this.decorationAction=function(t,e,n){z("decorationAction",t),M.dispatchEvent("decorationActionRequested",e,n)},this.handleKey_loadMap=function(t,e,n){z("handleKeyLoadMap",t);const o=d.toolbar_fileButton.class;n.getElementsByClassName(o)[0].click()},this.readFile=function(t,e,n,o){z("loadMap",t);const i=o.target.files;if(i.length>0){const t=i[0],n=new window.FileReader;n.onload=function(){M.loadMap(n.result,e,!0)},n.readAsText(t)}},this.loadMap=function(t,e,n){const o=this,i=o.getIdea();return i.batch((function(){if(n){const e=o.content(JSON.parse(t));o.setIdea(e)}else i.pasteMultiple("root",JSON.parse(t).ideas),o.removeSubIdea("root","loadMap")}))},this.downloadMap=function(t){z("downloadMap",t);const e=this.getIdea(),n=JSON.stringify(e);s.downloadToFile(n,e.title+".json","application/json")},this.toggleLink=function(t,e){const n=o.find(l.links,(function(t){return String(t.ideaIdFrom)===String(e)&&String(t.ideaIdTo)===String(y)||String(t.ideaIdTo)===String(e)&&String(t.ideaIdFrom)===String(y)}));n?M.removeLink(t,n.ideaIdFrom,n.ideaIdTo):M.addLink(t,e)},this.addLink=function(t,e){if(!v)return!1;z("addLink",t),l.addLink(y,e)},this.selectLink=function(t,e,n){if(!v)return!1;if(z("selectLink",t),!e)return!1;const o=[e.type,e.ideaIdFrom,e.ideaIdTo].join("_").replaceAll(".","_"),i=this.containerElement.querySelector("#"+o);if(i&&!i.classList.contains("selected-link")){const t=this.containerElement.getElementsByClassName("selected-link")[0];t&&t.classList.remove("selected-link"),i.classList.add("selected-link")}M.dispatchEvent("linkSelected",e,n,l.getLinkAttr(e.ideaIdFrom,e.ideaIdTo,"style"))},this.selectConnector=function(t,e,n){return!!v&&(z("selectConnector",t),!!e&&void M.dispatchEvent("connectorSelected",e,n,l.getAttrById(e.to,"parentConnector")))},this.removeLink=function(t,e,n){if(!v)return!1;z("removeLink",t),l.removeLink(e,n)},this.toggleAddLinkMode=function(t){return!!v&&!!x&&(z("toggleAddLinkMode",t),h=!h,void M.dispatchEvent("addLinkModeToggled",h))},this.cancelCurrentAction=function(t){return!!x&&!!v&&void(h&&this.toggleAddLinkMode(t))},M.undo=function(t){const e=p,n=g;if(!v)return!1;z("undo",t),x&&(l.undo(),e&&M.selectNode(e),n&&N(n))},M.redo=function(t){if(!v)return!1;z("redo",t),x&&l.redo()},M.moveRelative=function(t,e){let n;if(!v)return!1;z("moveRelative",t),x&&("top-down"===I.getOrientation()&&(n={ignoreRankSide:!0}),l.moveRelative(y,e,n))},M.cut=function(t){const e=[],n=[];if(!v)return!1;z("cut",t),x&&(M.applyToActivated((function(t){e.push(t),n.push(l.findParent(t).id)})),C.put(l.cloneMultiple(e)),l.removeMultiple(e))},M.contextForNode=function(t){const e=M.findIdeaById(t),n=e&&e.ideas&&o.size(e.ideas)>0,i=o.size(l.ideas),r=l.hasSiblings(t),a=e&&e.attr&&e.attr.style&&e.attr.style.width,s=e&&e.attr&&e.attr.position,d=e&&e.getAttr("collapsed"),c=e&&v&&C&&C.get(),u=l.isRootNode(t);if(e)return{hasChildren:!!n,hasSiblings:!!r,hasPreferredWidth:!!a,canPaste:!!c,hasPreferredPosition:!!s,notRoot:!u,notLastRoot:!u||i>1,canUndo:l.canUndo()&&!p,canRedo:l.canRedo()&&!p,canCollapse:n&&!d,canExpand:n&&d}},M.copy=function(t){const e=[];if(!v)return!1;z("copy",t),x&&(M.applyToActivated((function(t){e.push(t)})),C.put(l.cloneMultiple(e)))},M.paste=function(t){let e;return!!v&&(z("paste",t),x&&(e=l.pasteMultiple(y,C.get()),e&&e[0]&&M.selectNode(e[0])),e)},M.pasteStyle=function(t){const e=C.get();let n;if(!v)return!1;z("pasteStyle",t),x&&e&&e[0]&&(n=e[0].attr&&e[0].attr.style,M.applyToActivated((function(t){l.updateAttr(t,"style",n)})))},M.getIcon=function(t){const e=I.getNode(t||y);return!!e&&e.attr&&e.attr.icon},M.setIcon=function(t,e,n,i,r,a,s){let d,c=!1;return!!v&&(z("setIcon",t),a=a||y,c=M.findIdeaById(a),!!c&&void(e?(d={url:e,width:n,height:i,position:r},s&&(d.metaData=s),l.updateAttr(a,"icon",d)):(l.updateAttr(a,"icon",!1),c.title||0!==o.size(c.ideas)||l.removeSubIdea(a))))},M.insertUp=function(t){"standard"===I.getOrientation()?M.addSiblingIdeaBefore(t):M.insertIntermediate(t)},M.insertDown=function(t){"standard"===I.getOrientation()?M.addSiblingIdea(t):M.addSubIdea(t)},M.insertLeft=function(t){"standard"===I.getOrientation()?M.insertIntermediate(t):M.addSiblingIdeaBefore(t)},M.insertRight=function(t){"standard"===I.getOrientation()?M.addSubIdea(t):M.addSiblingIdea(t)},M.moveUp=function(t){"standard"===I.getOrientation()&&M.moveRelative(t,-1)},M.moveDown=function(t){"standard"===I.getOrientation()&&M.moveRelative(t,1)},M.moveLeft=function(t){"standard"===I.getOrientation()?M.flip(t):M.moveRelative(t,-1)},M.moveRight=function(t){"standard"===I.getOrientation()?M.flip(t):M.moveRelative(t,1)},M.getSelectedNodeId=function(){return R()},M.centerOnNode=function(t){I.getNode(t)||(l.startBatch(),o.each(l.calculatePath(t),(function(t){l.updateAttr(t.id,"collapsed",!1)})),l.endBatch()),M.dispatchEvent("nodeFocusRequested",t),M.selectNode(t)},M.search=function(t){const e=[];return t=t.toLocaleLowerCase(),l.traverse((function(n){n.title&&n.title.toLocaleLowerCase().indexOf(t)>=0&&e.push({id:n.id,title:n.title})})),e},function(){const t={};["Left","Right","Up","Down"].forEach((function(e){t[e]=function(t,n,o){!function(t,e,n,o){if(!x)return;z(e,t);const i=I["nodeId"+o](y);i&&n.apply(M,[i])}(t,n,o,e)}})),M.getActivatedNodeIds=function(){return E.slice(0)},M.activateSiblingNodes=function(t){const e=l.findParent(y),n=e&&e.ideas&&o.map(e.ideas,(function(t){return t.id}));z("activateSiblingNodes",t),n&&N(n)},M.activateNodeAndChildren=function(t){const e=R(),n=l.getSubTreeIds(e);z("activateNodeAndChildren",t),n.push(e),N(n)},o.each(["Left","Right","Up","Down"],(function(e){M["activateNode"+e]=function(n){t[e](n,"activateNode"+e,(function(t){M.selectNode(t,!1,!0)}))},M["selectNode"+e]=function(n){t[e](n,"selectNode"+e,M.selectNode)}})),M.toggleActivationOnNode=function(t,e){z("toggleActivated",t),M.isActivated(e)?N(o.without(E,e)):N([e].concat(E))},M.activateNode=function(t,e){z("activateNode",t),M.isActivated(e)||(E.push(e),M.dispatchEvent("activatedNodesChanged",[e],[]))},M.activateChildren=function(t){const e=O();z("activateChildren",t),!e||o.isEmpty(e.ideas)||e.getAttr("collapsed")||N(l.getSubTreeIds(e.id))},M.activateSelectedNode=function(t){z("activateSelectedNode",t),N([R()])},M.isActivated=function(t){return o.find(E,(function(e){return t==e}))},M.applyToActivated=function(t){l.batch((function(){o.each(E,t)}))},M.everyActivatedIs=function(t){return o.every(E,t)},M.activateLevel=function(t,e){const n=o.map(o.filter(I.getLayout().nodes,(function(t){return t.level==e})),(function(t){return t.id}));z("activateLevel",t),o.isEmpty(n)||N(n)},M.reactivate=function(t){return o.each(t.nodes,(function(t){o.contains(E,t.id)&&(t.activated=!0)})),t}}(),M.getNodeIdAtPosition=function(t,e){const n=o.find(I.getLayout().nodes,(function(n){return t>=n.x&&e>=n.y&&t<=n.x+n.width&&e<=n.y+n.height}));return n&&n.id},M.autoPosition=function(t){return l.updateAttr(t,"position",!1)},M.standardPositionNodeAt=function(t,e,n,i){let r=!1;const a=I.getNode(I.getNode(t).rootId),s=l.findParent(t),d=I.getNode(s.id),c=I.getNode(t),u=I.getNode(t),h=function(){return u.level<=2||(u.x-d.x)*(e-d.x)>0},f=function(){return o.isEmpty(s.ideas)?0:o.max(o.map(s.ideas,(function(e){return e.id!==t&&e.attr&&e.attr.position&&e.attr.position[2]||0})))||0};return l.startBatch(),c&&2===c.level&&(r=function(e,n,o){const i=e.x<n.x&&o<e.x,r=e.x>n.x&&e.x<o;return!(!i&&!r)&&l.flip(t)}(a,u,e)),!i&&h()&&M.autoPosition(t),u.level>1&&(r=l.positionBefore(t,function(){let e={id:null,y:1/0};return o.each(l.sameSideSiblingIds(t),(function(t){const o=I.getNode(t);if(!o)return!1;n<o.y&&o.y<e.y&&(e=o)})),e}().id)||r),i&&h()&&(r=1===u.level?l.updateAttr(t,"position",[e,n,f()+1]):function(){let o;return o=e<d.x?d.x-e-u.width+d.width:e-d.x,z("nodeManuallyPositioned"),l.updateAttr(t,"position",[o,n-d.y,f()+1])}()||r),S(t),l.endBatch(),r},M.topDownPositionNodeAt=function(t,e,n,i){let r,a,s;const d=l.findParent(t),c=I.getNode(t),u=function(){return l.updateAttr(t,"position",[e,n,1])};return i?c.level<2?u():l.batch((function(){return L(t,"root"),u()})):!!d&&(o.each(d.ideas,(function(n){const o=I.getNode(n.id);n.id!==t&&(e<o.x&&(!a||Math.abs(e-o.x)<Math.abs(e-I.getNode(a.id).x))&&(a=n),e>o.x+o.width&&(!s||Math.abs(e-o.x)<Math.abs(e-I.getNode(s.id).x))&&(s=n))})),l.batch((function(){const e=!!(a&&a.id&&l.findChildRankById(a.id)<0),n=e?s:a,o=e&&l.findChildRankById(t)>0;M.autoPosition(t),o&&l.flip(t),r=l.positionBefore(t,n&&n.id)})),r)},M.positionNodeAt=function(t,e,n,o){return"standard"===I.getOrientation()?M.standardPositionNodeAt(t,e,n,o):M.topDownPositionNodeAt(t,e,n,o)},M.dropNode=function(t,e,n){let o;const i=l.findParent(t);return e!==t&&(n?(o=l.clone(t),o&&l.paste(e,o),!1):e===i.id?M.autoPosition(t):L(t,e))},M.setLayoutCalculator=function(t){m=t},M.setThemeSource=function(t){w=t},M.dropImage=function(t,e,n,o,i,r){const a=function(o,i){const a=Math.min(e,300)/e,s=Math.min(n,300)/n,d=Math.min(a,s),c=l.getAttrById(o,"icon");M.setIcon("drag and drop",t,Math.round(e*d),Math.round(n*d),c&&c.position||i,o,r)},s=M.getNodeIdAtPosition(o,i);if(s)return a(s,"left");!function(){l.startBatch();const t=A(y);a(t,"center"),l.endBatch(),M.selectNode(t)}()},M.setLabelGenerator=function(t,e){f=t,M.dispatchEvent("labelGeneratorChange",e,!!t),M.rebuildRequired()},M.getStandardReorderBoundary=function(t){return 1!==I.getNode(t).level&&function(t){let e;const n=[],i=I.getNode(t),r=I.getNode(i&&i.rootId),a=function(t,e){return t&&e&&t.x>=e.x},s=l.findParent(t),d=I.getNode(s.id),c=a(i,r)?"left":"right",u=a(i,r)?"right":"left",h=function(t,e){const n=o.map(t,(function(t){return t?t.y:void 0})),r=o.map(t,(function(t){return t?t.y+t.height:void 0})),a={minY:o.min(n)-k-i.height,maxY:o.max(r)+k,margin:k};return a.edge=e,a.x="left"===e?d.x+d.width+k:d.x-k,a},f=function(t){const e={minY:d.y-k-i.height,maxY:d.y+d.height+k,margin:k};return e.edge=t,e.x="left"===t?d.x+d.width+k:d.x-k,e},p=o.map(l.sameSideSiblingIds(t),(function(t){return I.getNode(t)}));return o.isEmpty(p)||n.push(h(p,c)),n.push(f(c)),2===i.level&&(e=function(){let t=o.map(s.ideas,(function(t){return I.getNode(t.id)}));return t=o.without(t,i),o.isEmpty(p)||(t=o.difference(t,p)),t}(),o.isEmpty(e)||n.push(h(e,u)),n.push(f(u))),n}(t)},M.getTopDownReorderBoundary=function(t){const e=I.getNode(t),n=l.findParent(t);let i=1/0,r=-1/0,a=-1/0,s=!1;return n?(o.each(n.ideas,(function(e){const n=I.getNode(e.id);n&&e.id!==t&&(s=!0,i=Math.min(n.x,i),r=Math.max(n.x+n.width,r),a=Math.max(n.y+n.height,a))})),s?[{minY:e.y-e.height-10,maxY:a+10,minX:i-e.width-10,maxX:r+10,edge:"top"}]:[]):[]},M.getReorderBoundary=function(t){return"standard"===I.getOrientation()?M.getStandardReorderBoundary(t):M.getTopDownReorderBoundary(t)},M.focusAndSelect=function(t){M.selectNode(t),M.dispatchEvent("nodeFocusRequested",t)},M.requestContextMenu=function(t,e){return!(!x||!v||(M.dispatchEvent("contextMenuRequested",y,t,e),0))},M.makeSelectedNodeRoot=function(){const t=M.getSelectedNodeId();return!(!t||l.isRootNode(t))&&(x&&v?l.batch((function(){S(t,I.getLayout());const e=L(t,"root");return function(t){const e=t&&I.getNode(t);e&&l.updateAttr(t,"position",[e.x,e.y,1])}(t),S(t),e})):void 0)},M.setNodeWidth=function(t,e,n){l.mergeAttrProperty(e,"style","width",n)},M.unsetSelectedNodeWidth=function(t){if(!v)return!1;z("unsetSelectedNodeWidth",t),M.applyToActivated((function(t){l.mergeAttrProperty(t,"style","width",!1)}))},M.unsetSelectedNodePosition=function(t){if(!v)return!1;z("unsetSelectedNodePosition",t),M.applyToActivated(M.autoPosition)},M.insertRoot=function(t,e){if(!v)return!1;if(z("addRootNode",t),x){let t=!1;l.batch((function(){t=e?A(l.id,e):A(l.id),D(t,M.getSelectedNodeId()),S(t)})),t&&(e?P(t):T(t))}},M.lineLabelClicked=function(t){M.dispatchEvent("lineLabelClicked",t)}}},4444:t=>{t.exports=function(t,e,n){"use strict";const o=e.top+.5*e.height;return o<t.top-n?"above":o>t.top+t.height+n?"below":"horizontal"}},9406:(t,e,n)=>{const o=n(8934);t.exports=function(t){"use strict";return t.color&&0!==t.opacity?t.opacity?"rgba("+o(t.color).join(",")+","+t.opacity+")":t.color:"transparent"}},8934:(t,e,n)=>{const o=n(9050),i=new RegExp(/^rgba?\(([^,\s]+)[,\s]*([^,\s]+)[,\s]*([^,\s\()]+).*$/);t.exports=function(t){"use strict";return function(t){let e;if(i.test(t)&&(e=t.match(i),4===e.length))return o.map(e.slice(1),(function(t){return parseInt(t)}))}(t)||function(t){const e=t.toString(16).match(/[a-f0-9]{6}/i);let n,o,i,r;if(e)return n=parseInt(e[0],16),o=n>>16&255,i=n>>8&255,r=255&n,[o,i,r]}(t)||[0,0,0]}},756:(t,e,n)=>{const o=n(9050),i=n(1515),r=n(4444),a=n(8385),s=n(1116),d={center:function(t){"use strict";return Math.round(t.top+.5*t.height)},base:function(t){"use strict";return t.top+t.height+1},"base-inset":function(t,e){"use strict";return t.top+t.height+1-e},top:function(t){"use strict";return t.top}};t.exports=function(t,e,n){"use strict";const c=Math.min(t.left,e.left),u=Math.min(t.top,e.top),l={left:c,top:u,width:Math.max(t.left+t.width,e.left+e.width,c+1)-c,height:Math.max(t.top+t.height,e.top+e.height,u+1)-u+2},h=function(t,e,n){const i=r(t,e,10),a=t.styles,c=e.styles,u=n.attributeValue(["node"],a,["connections","default"],{h:"center",v:"center"}),l=n.attributeValue(["node"],c,["connections","default"],{h:"nearest-inset",v:"center"}),h=o.extend({},u,n.attributeValue(["node"],a,["connections","from",i],{})),f=o.extend({},l,n.attributeValue(["node"],c,["connections","to"],{})),p=n.connectorTheme(i,c,a),g=n.attributeValue(["node"],a,["cornerRadius"],10),m=n.attributeValue(["node"],c,["cornerRadius"],10),y=n.attributeValue(["node"],c,["border","type"],"");let x=!1,v=!1;return"underline"!==y&&"under-overline"!==y||(x={from:{x:e.left,y:e.top+e.height+1},to:{x:e.left+e.width,y:e.top+e.height+1}}),"overline"!==y&&"under-overline"!==y||(v={from:{x:e.left,y:e.top},to:{x:e.left+e.width,y:e.top}}),{from:{x:s[h.h](t,e,g),y:d[h.v](t,g)},to:{x:s[f.h](e,t,m),y:d[f.v](e,m)},connectorTheme:p,nodeUnderline:x,nodeOverline:v}}(t,e,n||new i({})),f=function(t,e,n){return function(t,e){const n=t.initialRadius||0,o=e.nodeOverline&&Math.floor(.5*Math.abs(e.nodeOverline.to.x-e.nodeOverline.from.x))-1;return e.nodeOverline&&(t.d+="m"+-1*o+","+n+"q0,"+-1*n+" "+n+","+-1*n+" h"+2*(o-n)+"q"+n+",0 "+n+","+n),t}(function(t,e,n){return e.nodeUnderline&&(t.d+="M"+(e.nodeUnderline.from.x-n.left)+","+(e.nodeUnderline.from.y-n.top)+" H"+(e.nodeUnderline.to.x-n.left)),t}(t,e,n),e)}(a[h.connectorTheme.type](h,l,t,e),h,l);return f.color=h.connectorTheme.line.color,f.width=h.connectorTheme.line.width,f.theme=h.connectorTheme,f}},3874:t=>{t.exports={name:"MindMup Default",node:[{name:"default",cornerRadius:10,backgroundColor:"#E0E0E0",border:{type:"surround",line:{color:"#707070",width:1}},shadow:[{color:"#070707",opacity:.4,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:"center",maxWidth:146,color:"#4F4F4F",lightColor:"#EEEEEE",darkColor:"#000000",font:{lineSpacing:2.5,lineSpacingPx:3.25,size:9,sizePx:12,weight:"bold"}},connections:{default:{h:"center",v:"center"},from:{horizontal:{h:"nearest-inset",v:"center"}},to:{h:"nearest",v:"center"}},decorations:{height:20,edge:"top",overlap:!0,position:"end"}},{name:"level_1",backgroundColor:"#22AAE0"},{name:"activated",border:{type:"surround",line:{color:"#22AAE0",width:3,style:"dotted"}}},{name:"level_1.activated",border:{type:"surround",line:{color:"#EEEEEE",width:3,style:"dotted"}}},{name:"selected",shadow:[{color:"#000000",opacity:.9,offset:{width:2,height:2},radius:2}]},{name:"collapsed",shadow:[{color:"#888888",offset:{width:0,height:1},radius:0},{color:"#FFFFFF",offset:{width:0,height:3},radius:0},{color:"#888888",offset:{width:0,height:4},radius:0},{color:"#FFFFFF",offset:{width:0,height:6},radius:0},{color:"#888888",offset:{width:0,height:7},radius:0}]},{name:"collapsed.selected",shadow:[{color:"#FFFFFF",offset:{width:0,height:1},radius:0},{color:"#888888",offset:{width:0,height:3},radius:0},{color:"#FFFFFF",offset:{width:0,height:6},radius:0},{color:"#555555",offset:{width:0,height:7},radius:0},{color:"#FFFFFF",offset:{width:0,height:10},radius:0},{color:"#333333",offset:{width:0,height:11},radius:0}]}],connector:{default:{type:"quadratic",controlPoint:{above:{width:0,height:.75},below:{width:0,height:.75},horizontal:{width:0,height:0}},label:{position:{ratio:.5},backgroundColor:"transparent",borderColor:"transparent",text:{color:"#4F4F4F",font:{size:9,sizePx:12,weight:"normal"}}},line:{color:"#707070",width:1}}},link:{default:{line:{color:"red",lineStyle:"dashed",width:1},label:{position:{ratio:.5},backgroundColor:"#FFFFFF",borderColor:"#FFFFFF",text:{color:"#4F4F4F",font:{size:9,sizePx:12,weight:"normal"}}}}}}},6159:(t,e,n)=>{const o=n(8934);t.exports=function(t){"use strict";const e=function(){const e=(i=o(t),r=o("#EEEEEE"),[Math.round(.5*(i[0]+r[0])),Math.round(.5*(i[1]+r[1])),Math.round(.5*(i[2]+r[2]))]),n=[];var i,r;let a;for(let t=0;t<e.length;t++)a=e[t]/255,n[t]=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return.2126*n[0]+.7152*n[1]+.0722*n[2]}();return e<.5?"lightColor":e<.9?"color":"darkColor"}},1700:t=>{t.exports={dashed:"8, 8",solid:""}},2624:t=>{t.exports={strokes:(t,e)=>{"use strict";if(!t||"solid"===t)return"";const n=4*Math.max(e||1,1);return"dashed"===t?[n,n].join(", "):[1,n].join(", ")},linecap:t=>{"use strict";return t&&"solid"!==t?"dotted"===t?"round":"":"square"}}},8385:t=>{const e=function(t,e){"use strict";return{d:"M"+Math.round(t.from.x-e.left)+","+Math.round(t.from.y-e.top)+"L"+Math.round(t.to.x-e.left)+","+Math.round(t.to.y-e.top),position:e}};t.exports={quadratic:function(t,n,o,i){"use strict";const r=1.2*Math.min(i.height,o.height),a=t.connectorTheme.controlPoint.height*(t.from.y-t.to.y),s=Math.max(-r,Math.min(r,a));return Math.round(t.from.y)===Math.round(t.to.y-s)?e(t,n):{d:"M"+Math.round(t.from.x-n.left)+","+Math.round(t.from.y-n.top)+"Q"+Math.round(t.from.x-n.left)+","+Math.round(t.to.y-s-n.top)+" "+Math.round(t.to.x-n.left)+","+Math.round(t.to.y-n.top),position:n}},"s-curve":function(t,e){"use strict";const n=Math.round(t.to.x-t.from.x),o=Math.round(t.to.y-t.from.y),i=10<Math.abs(.5*n)?10*Math.sign(n):Math.round(.5*n),r=10<Math.abs(.5*o)?10*Math.sign(o):Math.round(.5*o);return{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"q"+i+",0 "+i+","+r+"c0,"+(o-2*r)+" "+Math.round(n/2-i)+","+(o-r)+" "+(n-i)+","+(o-r),position:e}},"top-down-s-curve":function(t,e){"use strict";const n=Math.round(t.to.x-t.from.x),o=Math.round(t.to.y-t.from.y),i=15*Math.sign(n),r=15*Math.sign(o),a=Math.round(.5*o)-r;return 15>Math.abs(n/2)?function(){const i=a+Math.round(.5*r);return{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"v"+i+"l"+n+","+(o-i),position:e,initialRadius:5}}():{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"v"+a+"q0,"+r+" "+i+","+r+"h"+(n-2*i)+"q"+i+",0 "+i+","+r+"v"+a,position:e,initialRadius:5}},"compact-s-curve":function(t,e){"use strict";const n=Math.round(t.to.x-t.from.x),o=Math.round(t.to.y-t.from.y),i=10*Math.sign(n),r=10*Math.sign(o);return 10>Math.abs(.5*n)||10>Math.abs(.5*o)?function(){const i=Math.round(n/2);return{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"l"+i+",0 l"+(n-i)+","+o,position:e}}():{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"q"+i+",0 "+i+","+r+"v"+(o-2*r)+"q0,"+r+" "+i+","+r+"h"+(n-2*i),position:e}},"vertical-quadratic-s-curve":function(t,e){"use strict";const n=Math.round(t.to.x-t.from.x),o=Math.round(t.to.y-t.from.y),i=n/2,r=o/2;return Math.abs(n)<20?{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"l"+n+","+o,initialRadius:10,position:e}:{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"q0,"+Math.round(r/2)+" "+i+","+r+"q"+i+","+Math.round(r/2)+" "+i+","+r,initialRadius:10,position:e}},"vertical-s-curve":function(t,e){"use strict";const n=Math.round(t.to.x-t.from.x),o=Math.round(t.to.y-t.from.y),i=10*Math.sign(n),r=10*Math.sign(o);return 10>Math.abs(.5*n)||10>Math.abs(.5*o)?{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"l"+n+","+o,position:e}:{d:"M"+(t.from.x-e.left)+","+(t.from.y-e.top)+"q0,"+r+" "+i+","+r+"h"+(n-2*i)+"q"+i+",0 "+i+","+r+"v"+(o-2*r),position:e}},straight:e,"no-connector":function(t,e){"use strict";return{d:"M"+Math.round(t.to.x-e.left)+","+Math.round(t.to.y-e.top),position:e}}}},5722:(t,e,n)=>{const o=n(1515),i=function(t,e,n){"use strict";const o=Math.tan(Math.PI/9),i=e.x-t.x,r=e.y-t.y;let a,s,d,c,u,l,h=14;return 0===i?(a=r<0?-1:1,s=e.x+h*Math.sin(o)*a,d=e.x-h*Math.sin(o)*a,c=e.y-h*Math.cos(o)*a,u=e.y-h*Math.cos(o)*a):(l=r/i,t.x<e.x&&(h=-h),s=e.x+(1-l*o)*h/Math.sqrt((1+l*l)*(1+o*o)),c=e.y+(l+o)*h/Math.sqrt((1+l*l)*(1+o*o)),d=e.x+(1+l*o)*h/Math.sqrt((1+l*l)*(1+o*o)),u=e.y+(l-o)*h/Math.sqrt((1+l*l)*(1+o*o))),"M"+Math.round(s-n.left)+","+Math.round(c-n.top)+"L"+Math.round(e.x-n.left)+","+Math.round(e.y-n.top)+"L"+Math.round(d-n.left)+","+Math.round(u-n.top)+"Z"},r=n(2624);t.exports=function(t,e,n,a){"use strict";const s=function(t,e){const n=[{x:t.left+Math.round(.5*t.width),y:t.top},{x:t.left+t.width,y:t.top+Math.round(.5*t.height)},{x:t.left+Math.round(.5*t.width),y:t.top+t.height},{x:t.left,y:t.top+Math.round(.5*t.height)}],o=[{x:e.left+Math.round(.5*e.width),y:e.top},{x:e.left+e.width,y:e.top+Math.round(.5*e.height)},{x:e.left+Math.round(.5*e.width),y:e.top+e.height},{x:e.left,y:e.top+Math.round(.5*e.height)}];let i,r,a,s,d,c,u,l=1/0;for(i=0;i<n.length;i+=1)for(r=0;r<o.length;r+=1)d=n[i].x-o[r].x,c=n[i].y-o[r].y,u=d*d+c*c,u<l&&(a=i,s=r,l=u);return{from:n[a],to:o[s]}}(t,e),d=a||new o({}),c=n||{},u=Math.min(t.left,e.left),l=Math.min(t.top,e.top),h={left:u,top:l,width:Math.max(t.left+t.width,e.left+e.width,u)-u,height:Math.max(t.top+t.height,e.top+e.height,l)-l},f=d.linkTheme(c.type),p=c.width||f.line.width,g=c.lineStyle||f.line.lineStyle,m={color:c.color||f.line.color,strokes:r.strokes(g,p),linecap:r.linecap(g,p),width:p};return{d:"M"+Math.round(s.from.x-h.left)+","+Math.round(s.from.y-h.top)+"L"+Math.round(s.to.x-h.left)+","+Math.round(s.to.y-h.top),position:h,arrows:c.arrow&&"false"!==c.arrow&&function(t){if(!t)return!1;const e=[];return"from"!==t&&e.push(i(s.from,s.to,h)),"from"!==t&&"both"!==t||e.push(i(s.to,s.from,h)),e}(c.arrow),theme:f,lineProps:m,label:c.label}}},1116:t=>{const e=function(t,e,n){"use strict";return t.left+t.width<e.left?t.left+t.width-n:t.left+n};t.exports={center:function(t){"use strict";return Math.round(t.left+.5*t.width)},"center-separated":function(t,e,n,o){"use strict";const i=t.height*(o||.2),r=n||10,a=t.width/2,s=t.left+a,d=e.left+e.width/2,c=e.left+e.width,u=e.top-t.top+t.height-i,l=(e.left>t.left+t.width?e.left-s:c<t.left?c-s:(e.left,d-s))/Math.abs(u)*i,h=Math.max(l,-1*a+r),f=Math.min(h,a-r);return Math.round(t.left+.5*t.width+f)},nearest:function(t,n){"use strict";return e(t,n,0)},"nearest-inset":e}},5792:(t,e,n)=>{const o=n(5986),i=n(9406),r=n(9176),a=n(6683),s=function(t,e,n){"use strict";if(!t||!e||!e.length)return void 0===t&&n||t;if(1===e.length)return void 0===t[e[0]]&&n||t[e[0]];let o=e.slice(0),i=t;for(;o.length>0;){if(i=i[o[0]],void 0===i)return n;o=o.slice(1)}return i};t.exports={attributeForPath:s,themeAttributeValue:(t,e,n,i,a)=>{"use strict";const d=s(t,e);let c=[{}];if(!d)return a;if(n&&n.length)c=c.concat(n.slice(0).reverse().map((t=>d[t])).filter((t=>!!t)));else{if(!r(d))return i&&i.length?a:d;c.push(d)}return s(o.apply(o,c),i,a)},nodeAttributeToNodeTheme:t=>{"use strict";const e=o({},a.nodeTheme);return t&&(e.margin=s(t,["text","margin"],e.margin),e.font=o({},e.font,s(t,["text","font"],e.font)),e.text=o({},e.text,s(t,["text"],e.text)),e.borderType=s(t,["border","type"],e.borderType),e.backgroundColor=function(){const e=s(t,["background"]);return e?i(e):s(t,["backgroundColor"])}()||e.backgroundColor,e.cornerRadius=s(t,["cornerRadius"],e.cornerRadius),e.lineColor=s(t,["border","line","color"],e.lineColor),e.lineWidth=s(t,["border","line","width"],e.lineWidth),e.lineStyle=s(t,["border","line","style"],e.lineStyle)),e},connectorControlPoint:(t,e,n)=>{"use strict";const o={width:0,height:"horizontal"===e?a.connectorControlPoint.horizontal:a.connectorControlPoint.default},i=n&&s(t,["connector",n,"controlPoint",e]);return i&&Object.assign({},i)||o}}},6683:(t,e,n)=>{const o=n(3874),i=n(9868),r=o.node[0],a=o.connector.default;t.exports=i({nodeTheme:{margin:r.text.margin,font:r.text.font,maxWidth:r.text.maxWidth,backgroundColor:r.backgroundColor,borderType:r.border.type,cornerRadius:r.cornerRadius,lineColor:r.border.line.color,lineWidth:r.border.line.width,lineStyle:r.border.line.style,text:{color:r.text.color,lightColor:r.text.lightColor,darkColor:r.text.darkColor}},connectorControlPoint:{horizontal:a.controlPoint.horizontal.height,default:a.controlPoint.above.height},connectorTheme:{type:a.type,label:a.label,line:a.line}})},1056:(t,e,n)=>{const o=n(9050),i=n(9406);t.exports=function(){"use strict";const t=function(t){return t+"px"},e={cornerRadius:"border-radius","text.color":"color","text.margin":"padding",background:"background-color",backgroundColor:"background-color",border:"border",shadow:"box-shadow","text.font":"font","text.alignment":"text-align"},n={cornerRadius:t,"text.margin":t,background:i,border:function(t){return t.line?t.line.width+"px "+(t.line.style||"solid")+" "+t.line.color+";margin:"+-1*t.line.width+"px":"0"},shadow:function(t){const e=[];return 1===t.length&&"transparent"===t[0].color?"none":(t.forEach((function(t){e.push(t.offset.width+"px "+t.offset.height+"px "+t.radius+"px "+i(t))})),e.join(","))},"text.font":function(t){return"normal normal "+function(t){return t&&t.weight?{light:"200","semi-bold":"600"}[t.weight]||t.weight:"bold"}(t)+" "+function(t){const e=t&&t.size||12;return e+"pt/"+((e+(t&&t.lineSpacing||3))/e).toFixed(2)}(t)+' NotoSans, "Helvetica Neue", Roboto, Helvetica, Arial, sans-serif'}};this.process=function(t){let i="";return t.node&&(i=(t=>t.noAnimations?[]:['body:not(.noTransition) .mapjs-node:not(.noTransition):not(.dragging), body:not(.noTransition) [data-mapjs-role="svg-container"] :not(.noTransition), body:not(.noTransition) [data-mapjs-role="svg-container"] :not(.noTransition) :not(.noTransition) { transition-property: transform, left, d, top, opacity; transition-duration: 400ms;}'])(t).concat(function(t){let i,r;const a=[],s=function(t,d){o.each(t,(function(t,c){const u=(d||"")+c;e[u]?(i=n[u]||o.identity,r=i(t),r&&(a.push(e[u]),a.push(":"),a.push(r),a.push(";"))):o.isObject(t)&&s(t,u+".")}))};return t.forEach((function(t){let e=".mapjs-node";"default"!==t.name&&(e=e+"."+t.name.replace(/\s/g,"_")),a.push(e),a.push("{"),s(t),a.push("}"),function(t,e){const n=e.decorations,o=e.text&&e.text.margin||0,i=e&&e.text&&e.text.font&&e.text.font.size||9;n&&(a.push(t),a.push(" .mapjs-decorations{position:absolute;"),a.push(`font-size:${i}pt;`),"top"===n.edge||"bottom"===n.edge?("end"===n.position?a.push("right:0;"):"start"===n.position?a.push("left:0;"):a.push("left:0;width:100%;text-align:center;"),a.push(n.edge),a.push(":-"),a.push(n.overlap?Math.round(n.height/2)+o:n.height),a.push("px;")):"left"!==n.edge&&"right"!==n.edge||(a.push("left"===n.edge?"right":"left"),a.push(":100%;"),"end"===n.position?a.push("bottom:0;"):"start"===n.position?a.push("top:0;"):(a.push("top:calc(50% - "),a.push(Math.round(n.height/2)),a.push("px);"))),a.push("}"))}(e,t),function(t,e){const n=e.text&&e.text.maxWidth;n&&(a.push(t),a.push(" span {"),a.push("max-width:"),a.push(n),a.push("px;}"))}(e,t)})),a}(t.node)).join("")),{css:i}},this.cssFont=n["text.font"]}},4159:t=>{t.exports=function(t){"use strict";const e=Object.assign({},t),n=e.node;return e&&Array.isArray(e.node)&&(e.node={},n.forEach((function(t){e.node[t.name]=t}))),e}},1515:(t,e,n)=>{const o=n(6683),i=n(4159),r=n(5792),a=n(3874);t.exports=function(t){"use strict";const e=this,n=i(t),s=(t,e,o,i)=>r.themeAttributeValue(n,t,e,o,i);e.getFontForStyles=function(t){const e=s(["node"],t,["text","font","weight"],"semibold");return{size:s(["node"],t,["text","font","size"],o.nodeTheme.font.size),weight:e,lineGap:s(["node"],t,["text","font","lineSpacing"],o.nodeTheme.font.lineSpacing)}},e.getNodeMargin=function(t){return s(["node"],t,["text","margin"],o.nodeTheme.margin)},e.name=t&&t.name,e.connectorEditingContext=t&&t.connectorEditingContext,e.blockParentConnectorOverride=t&&t.blockParentConnectorOverride,e.attributeValue=(t,e,n,o)=>s(t,e,n,o),e.nodeStyles=function(t,e){const n=["level_"+t,"default"];return e&&e.group&&(n.unshift("attr_group"),"string"!=typeof e.group&&"number"!=typeof e.group||n.unshift("attr_group_"+e.group)),e&&e.styleNames&&Array.isArray(e.styleNames)?e.styleNames.concat(n):n},e.nodeTheme=function(t){const e=s(["node"],t);return r.nodeAttributeToNodeTheme(e)},e.connectorTheme=function(t,e,i){const a=t||"horizontal",d=s(["node"],e,["connections","style"],"default"),c=i&&s(["node"],i,["connections","childstyle"],!1),u=r.attributeForPath(n,["connector",d]),l=c&&r.attributeForPath(n,["connector",c]),h=c&&c+"."+d,f=h&&r.attributeForPath(n,["connector",h]),p=f&&h||l&&c||d||"default",g=r.connectorControlPoint(n,a,p),m=Object.assign({},o.connectorTheme),y=Object.assign({},f||l||u||m);return y.label||(y.label=m.label),y.controlPoint=g,y.line=y.line||m.line,y},e.linkTheme=function(t){const e=r.attributeForPath(n,["link",t||"default"]),o=a.link.default;return Object.assign({},o,e)},e.noAnimations=()=>!!n.noAnimations,e.getLayoutConnectorAttributes=t=>{const e=s(["node"],t,["connections","style"],"default"),i=Object.assign({},o.connectorTheme),a=r.attributeForPath(n,["connector",e])||i,d={};return a&&a.line&&(d.parentConnector={color:a.line.color}),d},e.cleanPersistedAttributes=t=>(t&&t.parentConnector&&t.parentConnector.themeAutoColor&&(t.parentConnector.themeAutoColor===t.parentConnector.color&&delete t.parentConnector.color,delete t.parentConnector.themeAutoColor,t&&t.parentConnector&&Object.keys(t.parentConnector).length||delete t.parentConnector),t),e.getPersistedAttributes=(t,e,i)=>{const d=s(["node"],["level_"+e,"default"],["connections","style"],"default"),c=Object.assign({},o.connectorTheme),u=r.attributeForPath(n,["connector",d])||c,l=(()=>{const t=n.autoColors||[a.connector.default.line.color];return t[i%t.length]})(),h={attr:t&&t.parentConnector&&{parentConnector:t.parentConnector}||{},removed:[]};return u&&u.line&&"theme-auto-color"===u.line.color?h.attr=Object.assign({parentConnector:{color:l,themeAutoColor:l}},h.attr):h.attr.parentConnector&&h.attr.parentConnector.themeAutoColor&&(h.attr.parentConnector=Object.assign({},h.attr.parentConnector),h.attr.parentConnector.themeAutoColor===h.attr.parentConnector.color&&delete h.attr.parentConnector.color,delete h.attr.parentConnector.themeAutoColor,h&&h.attr&&h.attr.parentConnector&&Object.keys(h.attr.parentConnector).length||(h.removed.push("parentConnector"),delete h.attr.parentConnector)),h}}},4109:t=>{t.exports=function(t,e){"use strict";return t&&t.style&&t.style.width||e&&e.text&&e.text.maxWidth}},1761:t=>{t.exports=function(t){"use strict";return t.replace(/[^A-Za-z0-9_-]/g,"_")}},4794:(t,e,n)=>{const o=n(1761);t.exports=function(t){"use strict";return o("connector_"+t.from+"_"+t.to)}},7170:(t,e,n)=>{const o=n(9050);t.exports=function(t){"use strict";const e=o.omit(t,"left","top");return e.transform="translate("+t.left+"px,"+t.top+"px)",e}},9868:t=>{const e=function(t){"use strict";return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((n=>{t.hasOwnProperty(n)&&null!==t[n]&&((t,e)=>("object"==typeof t[e]||"function"==typeof t[e])&&!Object.isFrozen(t[e]))(t,n)&&e(t[n])})),t};t.exports=e},7725:(t,e,n)=>{const o=n(1761);t.exports=function(t){"use strict";return o("link_"+t.ideaIdFrom+"_"+t.ideaIdTo)}},2329:(t,e,n)=>{n(9050);const{default:o}=n(1749),i=o.mapjs_map.class,r=new function(t,e="production"){const n=Object.create(t);return"production"===e?(n.debug=()=>{},n.log=()=>{}):n.log=(t,e="log")=>{console[e](t)},n}(console);t.exports={Logger:r,trycatch:(t,e)=>{"use strict";e=t=>{r.error("Caught: "+t)};try{return t()}catch(t){return e(t)}},getContainerID:t=>{"use strict";const e=document.getElementsByClassName(i);switch(e.length){case 0:return!1;case 1:return e[0].id;default:const n=t.currentTarget;if(n){if(n.class===i)return n.id;t=t.target}return!!t.closest&&t.closest("."+i).id}return!1},downloadToFile:(t,e,n)=>{"use strict";const o=new Blob([t],{type:n}),i=document.createElement("a");i.href=URL.createObjectURL(o),i.download=e,i.click(),URL.revokeObjectURL(i.href)},getElementMJS:(t,e=document,n=!1)=>{const o=e.getElementsByClassName(t),i=o.length;if(i>1)return o;if(1===i)return n?o:o[0];throw new Error("getElementMJS(): Element of class "+t+" not found in "+e.tagName+"."+e.classList[0])},idea_pp:(t,e=-1,n=[])=>{},ideas_pp:(e,n=-1,o=[])=>{n+=1,e?(void 0!==e.id?t.exports.idea_pp(e,n,o):e.constructor===Array?e.forEach((function(e,i){t.exports.idea_pp(e,n,o[i])})):e.constructor===Object&&(n-=1,t.exports.ideas_pp(Object.values(e),n,Object.keys(e))),n-=1):n-=1}}},6017:(t,e,n)=>{const o=n(1761);t.exports=function(t){"use strict";return o("node_"+t)}},3486:t=>{const e=(t,n)=>{"use strict";if(!(t&&n&&n.length&&"object"==typeof t&&Array.isArray(n)))return!1;const o=t[n[0]],i=n.slice(1);return i.length?e(o,i):o},n=(t,e,o)=>{"use strict";if(!(t&&e&&e.length&&"object"==typeof t&&Array.isArray(e)))return!1;const i=e.slice(1),r=e[0];if(i.length){if(!t[r]){if(!o)return;t[r]={}}n(t[r],i,o)}else o?t[r]=o:delete t[r]},o=(t,e)=>{"use strict";if("object"==typeof e||Array.isArray(e))throw"search-type-not-supported";const n=[];return t&&"object"==typeof t?(Object.keys(t).forEach((i=>{const r=t[i];r===e&&n.push([i]),"object"==typeof r&&o(r,e).forEach((t=>{if(!t||!t.length)return;const e=[i].concat(t);n.push(e)}))})),n):[]};t.exports={getValue:e,setValue:n,keyComponentsWithValue:o}},110:t=>{t.exports=function(t){"use strict";let e=[];return t.addEventListener=function(t,n,o){t.split(" ").forEach((function(t){t&&e.push({type:t,listener:n,priority:o||0})}))},t.listeners=function(t){return e.filter((function(e){return e.type===t})).map((function(t){return t.listener}))},t.removeEventListener=function(t,n){e=e.filter((function(t){return t.listener!==n}))},t.dispatchEvent=function(t){const n=Array.prototype.slice.call(arguments,1);e.filter((function(e){return e.type===t})).sort((function(t,e){return e.priority-t.priority})).some((function(t){try{return!1===t.listener.apply(void 0,n)}catch(e){Logger.trace("dispatchEvent failed",e,t)}}))},t}},5634:t=>{t.exports=new function(){"use strict";const t=this,e=/(https?:\/\/|www\.)[\w-]+(\.[\w-]+)+([\w\(\)\u0080-\u00FF.,!@?^=%&amp;:\/~+#-]*[\w\(\)\u0080-\u00FF!@?^=%&amp;\/~+#-])?/i,n=function(t){return t?"/"===t[0]||/^[a-z]+:\/\//i.test(t)?t:"http://"+t:""};t.containsLink=function(t){return e.test(t)},t.getLink=function(t){const o=t&&t.match(e);return o&&o[0]?n(o[0]):o},t.stripLink=function(t){return t?t.replace(e,"").trim():""},t.formatLinks=function(e){return e?e.replace(t.getPattern(),(t=>`<a target="_blank" href="${n(t)}">${t}</a>`)):""},t.getPattern=function(){return new RegExp(e,"gi")},t.hrefUrl=n}},3269:(t,e,n)=>{const o=n(756);n(1976),t.exports=function(t,e){"use strict";const n=(t,e)=>{const n=t.data().innerRect;n&&(e.left+=n.dx,e.top+=n.dy,e.width=n.width,e.height=n.height)},i=e&&e.connectorBuilder||o,r=t.data("nodeFrom"),a=t.data("nodeTo"),s=e&&e.theme,d=t.data("attr"),c=r&&r.getDataBox(),u=a&&a.getDataBox();if(r&&a&&0!==r.length&&0!==a.length)return n(r,c),n(a,u),c.styles=r.data("styles"),u.styles=a.data("styles"),Object.assign(i(c,u,s),d)}},1125:(t,e,n)=>{const o=n(3874),i=n(2348)("path");t.exports=function(t,e,n,r,a){"use strict";const s=(a=a||o.connector.default.label).position||{};if(i.attr("d",r),s.aboveEnd){const o=n.left+n.width/2-t.left,i=e.left+e.width/2-t.left,r=s.ratio||1;return{x:Math.round(i+r*(o-i)),y:n.top-t.top-s.aboveEnd}}return s.ratio?i[0].getPointAtLength(i[0].getTotalLength()*a.position.ratio):i[0].getPointAtLength(.5*i[0].getTotalLength())}},906:(t,e,n)=>{const o=n(9755),i=n(2348),r=n(4794),a=n(3269),s=n(7170);o.fn.createConnector=function(t,e){"use strict";const n=this.parent("[data-mapjs-role=stage]"),o=i("g").data({nodeFrom:n.nodeWithId(t.from),nodeTo:n.nodeWithId(t.to),attr:t.attr}).attr({id:r(t),"data-mapjs-role":"connector"}),d=a(o,e);return o.css(Object.assign(s(d.position),{stroke:d.color})).appendTo(this)}},7866:(t,e,n)=>{const o=n(9755),i=n(2348),r=n(7725),a=n(5722),s=n(7170);n(1976),o.fn.createLink=function(t,e){"use strict";const n=this.parent("[data-mapjs-role=stage]"),o=e&&e.theme,d=e&&e.linkBuilder||a,c={nodeFrom:n.nodeWithId(t.ideaIdFrom),nodeTo:n.nodeWithId(t.ideaIdTo),attr:t.attr&&t.attr.style||{}},u=i("g").attr({id:r(t),"data-mapjs-role":"link"}).data(c),l=d(c.nodeFrom.getDataBox(),c.nodeTo.getDataBox(),c.attrs,o);return u.css(Object.assign(s(l.position),{stroke:l.lineProps.color})),u.appendTo(this),u}},9788:(t,e,n)=>{const o=n(9755),i=n(6017);o.fn.createNode=function(t){"use strict";return o("<div>").attr({id:i(t.id),"data-mapjs-role":"node"}).css({display:"block",opacity:0,position:"absolute",top:Math.round(t.y||0)+"px",left:Math.round(t.x||0)+"px"}).addClass("mapjs-node").appendTo(this)}},7917:(t,e,n)=>{const o=n(9755);o.fn.createReorderBounds=function(){"use strict";return o("<div>").attr({"data-mapjs-role":"reorder-bounds",class:"mapjs-reorder-bounds"}).hide().css("position","absolute").appendTo(this)}},2348:(t,e,n)=>{const o=n(9755);t.exports=function(t){"use strict";return o(document.createElementNS("http://www.w3.org/2000/svg",t||"svg"))}},3267:(t,e,n)=>{const o=n(9755),i=n(9050),r=n(893),a=n(8529);n(9788),n(9597),n(3992),n(7913),n(6051),n(6885),n(8808),n(5349),n(1191),n(8195),n(6282),n(906),n(7866),n(7194),n(7917),t.exports=function(t,e,n,s,d,c,u){"use strict";let l,h=u&&u.stageMargin,f=u&&u.stageVisibilityMargin,p=!1,g={};const m=this,y=e.parent(),x={duration:400},v=t.isEditingEnabled()?e.createReorderBounds():o("<div>"),w=o("<div>").addClass("mapjs-node").addClass("noTransition").css({position:"absolute",visibility:"hidden"}),b=function(){return l||(l={left:y.scrollLeft(),top:y.scrollTop(),innerWidth:y.innerWidth(),innerHeight:y.innerHeight()},l)},E=function(t,n){const o=e.data(),i=b();return{x:o.scale*(t+o.offsetX)-i.left,y:o.scale*(n+o.offsetY)-i.top}},M=function(t,n){const o=e.data(),i=b();return{x:(i.left+t)/o.scale-o.offsetX,y:(i.top+n)/o.scale-o.offsetY}},F=function(){const t=o(this);t.css({left:t.data("x"),top:t.data("y")}).trigger("mapjs:move")},C=function(t,n){const o=e.data();let i=!1;t<-1*o.offsetX&&(o.width=o.width-o.offsetX-t,o.offsetX=-1*t,i=!0),n<-1*o.offsetY&&(o.height=o.height-o.offsetY-n,o.offsetY=-1*n,i=!0),t>o.width-o.offsetX&&(o.width=o.offsetX+t,i=!0),n>o.height-o.offsetY&&(o.height=o.offsetY+n,i=!0),i&&e.updateStage()},k=function(){return o(this).each((function(){const t=o(this).data(),e=h||{top:0,left:0,bottom:0,right:0};C(t.x-e.left,t.y-e.top),C(t.x+t.width+e.right,t.y+t.height+e.bottom)}))},I=function(t,n,o){const i=e.data(),r=Math.round(y.innerWidth()/2),a=Math.round(y.innerHeight()/2),s=f||{top:0,left:0,bottom:0,right:0};let d=!1,c=!1;C(t-r/i.scale,n-a/i.scale),C(t+r/i.scale-s.left,n+a/i.scale-s.top),d=i.scale*(t+i.offsetX)-r,c=i.scale*(n+i.offsetY)-a,y.finish(),o?y.animate({scrollLeft:d,scrollTop:c},x):(y.scrollLeft(d),y.scrollTop(c))},S=function(t,n){const o=e.nodeWithId(t).data(),i=Math.round(o.x+o.width/2),r=Math.round(o.y+o.height/2);I(i,r,n)},A=function(t){if(!t||0===t.length)return;y.finish();const e=t.data(),n=E(e.x,e.y),o=E(e.x+e.width,e.y+e.height),r={},a=f||{top:10,left:10,bottom:10,right:10};n.x-a.left<0?r.scrollLeft=y.scrollLeft()+n.x-a.left:o.x+a.right>y.innerWidth()&&(r.scrollLeft=y.scrollLeft()+o.x-y.innerWidth()+a.right),n.y-a.top<0?r.scrollTop=y.scrollTop()+n.y-a.top:o.y+a.bottom>y.innerHeight()&&(r.scrollTop=y.scrollTop()+o.y-y.innerHeight()+a.bottom),i.isEmpty(r)||y.animate(r,x)},L=function(t){const e=function(t){const e=t&&t.gesture&&t.gesture.center||t,n=y.offset();let o;if(e&&(o={x:e.pageX-n.left,y:e.pageY-n.top},o.x>=0&&o.x<=y.innerWidth()&&o.y>=0&&o.y<=y.innerHeight()))return o}(t);if(e)return M(e.x,e.y)},N=function(){(p||!1===p)&&(o(".mapjs-node").removeClass("droppable"),p=void 0)},P=function(t,e){return!i.isEmpty(t)&&!!e&&i.find(t,(function(t){let n=e.x;return"right"===t.edge&&(n+=e.width),t.x&&t.margin?Math.abs(n-t.x)<2*t.margin&&e.y<t.maxY&&e.y>t.minY:e.y<t.maxY&&e.y>t.minY&&e.x<t.maxX&&e.x>t.minX}))},T=function(){return'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},R=function(t){if(!g)return!1;g[t]||(g[t]=0),g[t]=g[t]+1};m.resetStats=function(){g={}},m.getStats=function(){return g},m.setStageMargin=function(t){h=t},m.setStageVisibilityMargin=function(t){f=t},m.dimensionProvider=function(t,n){let o=!1,r=e.nodeWithId(t.id);const s=a(t,{level:n,theme:c()});return r&&r.length>0&&i.isEqual(r.data("nodeCacheMark"),s)?(R("dimension-cache:hit"),i.pick(r.data(),"width","height","textWidth")):(R("dimension-cache:miss"),function(t,e){if(!g)return!1;g.cacheMisses||(g.cacheMisses=[]),g.cacheMisses.push({old:t,new:e})}(r.data("nodeCacheMark"),s),r=w,r.appendTo("body").updateNodeContent(t,c(),{resourceTranslator:T,level:n,decorations:["left","right"]}),o={width:Math.ceil(r.outerWidth(!0)),textWidth:Math.ceil(r.find('[data-mapjs-role="title"]').outerWidth(!0)),height:Math.ceil(r.outerHeight(!0))},r.detach(),o)},t.setLayoutCalculator((function(t,e){return r(t,m.dimensionProvider,{contextNode:e,theme:c()})})),y.on("scroll",(function(){l=void 0})),s&&s.addEventListener("imageInserted",(function(e,n,o,i){const r=L(i);t.dropImage(e,n,o,r&&r.x,r&&r.y)})),t.addEventListener("nodeCreated",(function(o){let i;const r=e.createNode(o).updateNodeContent(o,c(),{resourceTranslator:d}).nodeResizeWidget(o.id,t,L).on("tap",(function(e){const n=e.gesture&&e.gesture.srcEvent||e;n.button&&-1!==n.button||(t.clickNode(o.id,n),e&&e.stopPropagation(),e&&e.gesture&&e.gesture.stopPropagation())})).on("doubletap",(function(e){e&&(e.stopPropagation(),e.gesture&&e.gesture.stopPropagation()),t.isEditingEnabled()?t.editNode("mouse"):t.toggleCollapse("mouse")})).on("decoration-click",(function(e,n){t.decorationAction("mouse",o.id,n)})).each(k).each(F).on("mm:start-dragging mm:start-dragging-shadow",(function(e){e&&e.relatedTarget===this&&(t.selectNode(o.id),i=t.getReorderBoundary(o.id),r.addClass("dragging"))})).on("mm:drag",(function(n){const a=L(n),s=n.currentPosition&&L({pageX:n.currentPosition.left,pageY:n.currentPosition.top}),d=n&&n.gesture&&n.gesture.srcEvent&&n.gesture.srcEvent.shiftKey,c=a&&t.getNodeIdAtPosition(a.x,a.y);let u;a?(d||c||!s?v.hide():(s.width=r.outerWidth(),s.height=r.outerHeight(),u=P(i,s),v.updateReorderBounds(u,s,a)),c&&c!==o.id?c!==p&&(N(),c&&function(t){e.nodeWithId(t).addClass("droppable"),p=t}(c)):N()):N()})).on("contextmenu",(function(e){if(t.selectNode(o.id),t.requestContextMenu(e.pageX,e.pageY))return!0})).on("mm:stop-dragging",(function(e){let n,a;r.removeClass("dragging"),v.hide();const s=e&&e.gesture&&e.gesture.srcEvent&&e.gesture.srcEvent.shiftKey,d=L(e),c=d&&t.getNodeIdAtPosition(d.x,d.y),u=e.finalPosition&&L({pageX:e.finalPosition.left,pageY:e.finalPosition.top});if(N(),d){if(c&&c!==o.id)n=t.dropNode(o.id,c,!!s);else{if(!u)return!1;u.width=r.outerWidth(),u.height=r.outerHeight(),a=!!s||!P(i,u),n=a?t.positionNodeAt(o.id,u.x,u.y,a):t.positionNodeAt(o.id,d.x,d.y,a)}return n}})).on("mm:cancel-dragging",(function(){N(),r.removeClass("dragging"),v.hide()})).on("mm:resize",(function(e){t.setNodeWidth("mouse",o.id,e.nodeWidth)}));n&&r.on("hold",(function(e){const n=e.gesture&&e.gesture.srcEvent||e;if(t.clickNode(o.id,n),t.requestContextMenu(e.gesture.center.pageX,e.gesture.center.pageY))return e.preventDefault(),e.gesture&&(e.gesture.preventDefault(),e.gesture.stopPropagation()),!1})),r.css("min-width",r.css("width")),t.isEditingEnabled()&&r.shadowDraggable()})),t.addEventListener("nodeSelectionChanged",(function(t,n){const o=e.nodeWithId(t);n?(o.addClass("selected"),A(o)):o.removeClass("selected")})),t.addEventListener("nodeRemoved",(function(t){e.nodeWithId(t.id).queueFadeOut(c())})),t.addEventListener("nodeMoved",(function(t){e.nodeWithId(t.id).data({x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}).each(k).each(F)})),t.addEventListener("nodeTitleChanged nodeAttrChanged nodeLabelChanged",(function(t){e.nodeWithId(t.id).updateNodeContent(t,c(),{resourceTranslator:d}).each(k)})),t.addEventListener("connectorMoved",(function(t){e.findLine(t).updateConnector({theme:c()})})),t.addEventListener("connectorCreated",(function(n){const o={theme:c()},i=e.find("[data-mapjs-role=svg-container]").createConnector(n,o).updateConnector(o);e.nodeWithId(n.from).add(e.nodeWithId(n.to)).on("mapjs:resize",(function(){i.updateConnector({theme:c()})})),i.on("tap",(function(e){const o=c();(!o||!o.connectorEditingContext||o.connectorEditingContext.allowed&&o.connectorEditingContext.allowed.length)&&(e.target&&"text"===e.target.tagName?t.lineLabelClicked(n):t.selectConnector("mouse",n,e&&e.gesture&&e.gesture.center&&{x:e.gesture.center.pageX,y:e.gesture.center.pageY})),e.gesture&&e.gesture.stopPropagation&&e.gesture.stopPropagation(),e.stopPropagation()}))})),t.addEventListener("connectorRemoved",(function(t){e.findLine(t).queueFadeOut(c())})),t.addEventListener("linkCreated",(function(n){const o=e.find("[data-mapjs-role=svg-container]").createLink(n,{theme:c()}).updateLink({theme:c()});o.on("tap",(function(e){e.target&&"text"===e.target.tagName?t.lineLabelClicked(n):t.selectLink("mouse",n,{x:e.gesture.center.pageX,y:e.gesture.center.pageY}),e.stopPropagation(),e.gesture.stopPropagation()})),e.nodeWithId(n.ideaIdFrom).add(e.nodeWithId(n.ideaIdTo)).on("mapjs:move mm:drag mapjs:resize",(function(){o.updateLink({theme:c()})}))})),t.addEventListener("linkRemoved",(function(t){e.findLine(t).queueFadeOut(c())})),t.addEventListener("mapScaleChanged",(function(t){const n=e.data("scale"),o=Math.max(Math.min(n*t,5),.2),i=M(Math.round(y.innerWidth()/2),Math.round(y.innerHeight()/2));n!==o&&(e.data("scale",o).updateStage(),I(i.x,i.y))})),t.addEventListener("nodeVisibilityRequested",(function(n){const o=n||t.getCurrentlySelectedIdeaId(),i=e.nodeWithId(o);i&&A(i)})),t.addEventListener("nodeFocusRequested",(function(t){1!==e.data("scale")&&e.data("scale",1).updateStage(),S(t,!0)})),t.addEventListener("mapViewResetRequested",(function(){e.data({scale:1,height:0,width:0,offsetX:0,offsetY:0}).updateStage(),o(e).find(".mapjs-node").each(k),o(e).find("[data-mapjs-role=connector]").updateConnector({theme:c()}),o(e).find("[data-mapjs-role=link]").updateLink({theme:c()}),S(t.getCurrentlySelectedIdeaId()),y.focus()})),t.addEventListener("layoutChangeStarting",(function(){l=void 0})),t.addEventListener("layoutChangeComplete",(function(){A(e.nodeWithId(t.getCurrentlySelectedIdeaId()))})),u&&u.inlineEditingDisabled||t.addEventListener("nodeEditRequested",(function(n,o,i){const r=e.nodeWithId(n),a="nodeEditRequested";t.setInputEnabled(a,void 0,!1),y.finish(),r.editNode(o).then((function(o){t.setInputEnabled(a,void 0,!0),t.updateTitle(n,o,i),e.focus()})).catch((function(){t.setInputEnabled(a,void 0,!0),i&&t.undo("internal"),e.focus()}))})),t.addEventListener("addLinkModeToggled",(function(t){t?e.addClass("mapjs-add-link"):e.removeClass("mapjs-add-link")})),t.addEventListener("linkAttrChanged",(function(t){e.findLine(t).data("attr",t.attr&&t.attr.style||{}).updateLink({theme:c()})})),t.addEventListener("connectorAttrChanged",(function(t){e.findLine(t).data("attr",t.attr||!1).updateConnector({theme:c()})})),t.addEventListener("activatedNodesChanged",(function(t,n){i.each(t,(function(t){e.nodeWithId(t).addClass("activated")})),i.each(n,(function(t){e.nodeWithId(t).removeClass("activated")}))})),["nodeTitleChanged","nodeAttrChanged","nodeLabelChanged","nodeMoved","nodeRemoved","nodeCreated","connectorCreated","connectorRemoved","linkCreated","linkRemoved","linkAttrChanged","connectorAttrChanged"].forEach((e=>{t.addEventListener(e,(()=>R(e)))})),m.stagePositionForPointEvent=L}},6418:(t,e,n)=>{const o=n(9755),i=n(9050),r=n(2348),a=n(2329),{default:s}=n(1749),d=s.mapjs_map.class;n(2677),o.fn.scrollWhenDragging=function(t){"use strict";return this.each((function(){const e=o(this);let n;e.on("dragstart",(function(){t()&&(n={top:e.scrollTop(),left:e.scrollLeft()})})).on("drag",(function(t){t.gesture&&n&&(e.scrollTop(n.top-t.gesture.deltaY),e.scrollLeft(n.left-t.gesture.deltaX))})).on("dragend",(function(){n=void 0}))}))},o.fn.domMapWidget=function(t,e,n,s,c,u){"use strict";const l={return:"insertDown","shift+return":"insertUp",",":"insertLeft",".":"insertRight","del backspace":"removeSubIdea",left:"selectNodeLeft",up:"selectNodeUp",right:"selectNodeRight","shift+right":"activateNodeRight","shift+left":"activateNodeLeft","meta+right ctrl+right":"moveRight","meta+left ctrl+left":"moveLeft","meta+up ctrl+up":"moveUp","meta+down ctrl+down":"moveDown","shift+up":"activateNodeUp","shift+down":"activateNodeDown",down:"selectNodeDown","space f2":"editNode",f:"toggleCollapse","c meta+x ctrl+x":"cut","p meta+v ctrl+v":"paste","y meta+c ctrl+c":"copy","ctrl+shift+v meta+shift+v":"pasteStyle","u meta+z ctrl+z":"undo","r meta+shift+z ctrl+shift+z meta+y ctrl+y":"redo","meta+plus ctrl+plus z":"scaleUp","meta+minus ctrl+minus shift+z":"scaleDown","Esc 0 meta+0 ctrl+0":"resetView","alt+o":"handleKey_loadMap","alt+s":"downloadMap"},h={"[":"activateChildren","{":"activateNodeAndChildren","=":"activateSiblingNodes",".":"activateSelectedNode","/":"toggleCollapse"},f=this;let p=!0;return e.addEventListener("inputEnabledChanged",(function(t,e){p=t,t&&!e&&f.focus()})),this.each((function(){const t=o(a.getElementMJS(d,this)),g=r().css({position:"absolute",top:0,left:0}).attr({"data-mapjs-role":"svg-container",class:"mapjs-draw-container",role:"img","aria-label":"Argument Map showing supporting and opposing relationships between text nodes."}),m=o("<div>").css({position:"relative"}).attr("data-mapjs-role","stage").appendTo(t).data({offsetX:t.innerWidth()/2,offsetY:t.innerHeight()/2,width:t.innerWidth()-20,height:t.innerHeight()-20,scale:1}).attr("tabindex",0).append(g).updateStage();let y=!1;e.getInputEnabled()&&(c||t).simpleDraggableContainer(),n?t.on("doubletap",(function(t){if(e.requestContextMenu(t.gesture.center.pageX,t.gesture.center.pageY))return t.preventDefault(),t.gesture.preventDefault(),!1})).on("pinch",(function(t){let n;t&&t.gesture&&t.gesture.scale&&(t.preventDefault(),t.gesture.preventDefault(),n=t.gesture.scale,y&&(n/=y),Math.abs(n-1)<.05||(y=t.gesture.scale,e.scale("touch",n,{x:t.gesture.center.pageX-m.data("offsetX"),y:t.gesture.center.pageY-m.data("offsetY")})))})).on("gestureend",(function(){y=!1})):(t.scrollWhenDragging(e.getInputEnabled),t.imageDropWidget(s)),i.each(l,(function(t,n){f.keydown(n,(function(n){if(p){n.stopImmediatePropagation(),n.preventDefault();const o=n.currentTarget;e[t]("keyboard",n,o)}}))})),o(window).on("orientationchange",(function(){u?e.centerOnNode(e.getSelectedNodeId()):e.resetView()})),f[0].addEventListener("keydown",(function(t){const n={"U+003D":"scaleUp","U+002D":"scaleDown",61:"scaleUp",173:"scaleDown",187:"scaleUp",189:"scaleDown"};let o;t&&!t.altKey&&(t.ctrlKey||t.metaKey)&&(t.isTrusted&&t.keyCode?o=n[t.keyCode]:"MozPrintableKey"===t.key&&(o=n[t.which]),o&&p&&(t.preventDefault(),e[o]("keyboard")))})),f.on("wheel mousewheel",(function(e){const n=e.originalEvent.deltaX||-1*e.originalEvent.wheelDeltaX;n<0&&0===t.scrollLeft()&&e.preventDefault(),n>0&&t[0].scrollWidth-t.width()-t.scrollLeft()==0&&e.preventDefault()})),f.on("keypress",(function(t){if(!p)return;if(/INPUT|TEXTAREA/.test(t&&t.target&&t.target.tagName))return;const n=t.charCode||t.keyCode,o=String.fromCharCode(n),i=h[o];i?(t.preventDefault(),e[i]("keyboard")):(Number(o)<=9&&Number(o)>=1||"0"===o)&&(t.preventDefault(),e.activateLevel("keyboard",Number(o)+1))}))}))}},8195:(t,e,n)=>{const o=n(9755);n(8619),n(3286),n(6721),n(9597),o.fn.editNode=function(t){"use strict";const e=this,n=this.find("[data-mapjs-role=title]"),o=this.data("title"),i=n.text();return o!==i&&n.css("word-break","break-all"),n.text(o).attr("contenteditable",!0).focus(),t?n.selectAll():o&&n.placeCaretAtEnd(),e.shadowDraggable({disable:!0}),new Promise(((t,r)=>{const a=function(){u(),n.css("word-break",""),n.removeAttr("contenteditable"),e.shadowDraggable()},s=function(){const e=n.innerText();if(e===o)return d();a(),t(e)},d=function(){a(),n.text(i),r()},c=function(t){13!==t.which||t.shiftKey?27===t.which?(d(),t.preventDefault(),t.stopPropagation()):9===t.which||83===t.which&&(t.metaKey||t.ctrlKey)&&!t.altKey?(s(),t.preventDefault()):t.shiftKey||90!==t.which||!t.metaKey&&!t.ctrlKey||t.altKey||(n.text()===o&&d(),t.stopPropagation()):(s(),t.stopPropagation()),n.trigger("keydown-complete")},u=function(){n.off("blur",s).off("keydown",c)};n.on("blur",s).on("keydown",c)}))}},7194:(t,e,n)=>{const o=n(9755),i=n(4794),r=n(7725);o.fn.findLine=function(t){"use strict";if(t&&"connector"===t.type)return this.find("#"+i(t));if(t&&"link"===t.type)return this.find("#"+r(t));throw Logger.error("invalid.line",t),"invalid-args"}},6214:(t,e,n)=>{n(9755).fn.getBox=function(){"use strict";const t=this&&this[0];return!!t&&{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}},1976:(t,e,n)=>{const o=n(9755);n(6214),o.fn.getDataBox=function(){"use strict";const t=this.data();return t&&t.width&&t.height?{top:t.y,left:t.x,width:t.width,height:t.height}:this.getBox()}},5407:(t,e,n)=>{const o=n(9755);t.exports=function(t,e){"use strict";const n=function(t){return/^data:image/.test(t)},i=function(t){let e=!1;if(n(t.src))return t.src;const o=document.createElement("canvas");return o.width=t.width,o.height=t.height,e=o.getContext("2d"),e.drawImage(t,0,0),o.toDataURL("image/png")},r=o.Deferred(),a=new Image;return a.onload=function(){try{r.resolve({dataUri:i(a),width:a.width,height:a.height})}catch(t){r.reject()}},a.onerror=function(){r.reject()},n(t)||(e?(a.crossOrigin="Anonymous",t=e+encodeURIComponent(t)):r.reject("no-cors")),a.src=t,r.promise()}},9597:(t,e,n)=>{const o=n(9755),i=n(7026),r=n(2329),a=function(t){"use strict";o(this).trigger(o.Event("mm:start-dragging",{relatedTarget:this,gesture:t.gesture})),t.stopPropagation(),t.preventDefault(),t.gesture&&(t.gesture.stopPropagation(),t.gesture.preventDefault())},s=function(t){"use strict";mapInstance[r.getContainerID(this)].mapModel.getInputEnabled()&&(o(this).trigger(o.Event("mm:start-dragging-shadow",{relatedTarget:this,gesture:t.gesture})),t.stopPropagation(),t.preventDefault(),t.gesture&&(t.gesture.stopPropagation(),t.gesture.preventDefault()))};o.fn.simpleDraggableContainer=function(){"use strict";let t,e;const n=this,r=function(n){if(t&&n.gesture){const i={top:Math.round(parseInt(e.top,10)+n.gesture.deltaY),left:Math.round(parseInt(e.left,10)+n.gesture.deltaX)};return t.css(i).trigger(o.Event("mm:drag",{currentPosition:i,gesture:n.gesture})),n.gesture&&n.gesture.preventDefault(),!1}},a=function(n){const i=t;"shadow"!==i.attr("mapjs-drag-role")?i.animate(e,{complete:function(){i.trigger(o.Event("mm:cancel-dragging",{gesture:n.gesture}))},progress:function(){i.trigger("mm:drag")}}):i.trigger(o.Event("mm:cancel-dragging",{gesture:n.gesture}))};return i(this,{drag_min_distance:2}),this.on("mm:start-dragging",(function(n){t||(t=o(n.relatedTarget),e={top:t.css("top"),left:t.css("left")},o(this).on("drag",r))})).on("mm:start-dragging-shadow",(function(i){const a=o(i.relatedTarget);t||(t=function(){const t=a.clone().addClass("drag-shadow").appendTo(n).offset(a.offset()).data(a.data()).attr("mapjs-drag-role","shadow"),e=a.parent().data("scale")||1;return 0!==e&&t.css({transform:"scale("+e+")","transform-origin":"top left"}),t}(),e={top:t.css("top"),left:t.css("left")},t.on("mm:stop-dragging mm:cancel-dragging",(function(t){this.remove(),t.stopPropagation(),t.stopImmediatePropagation();const e=o.Event(t.type,{gesture:t.gesture,finalPosition:t.finalPosition});a.trigger(e)})).on("mm:drag",(function(t){a.trigger(t)})),o(this).on("drag",r))})).on("dragend",(function(e){if(o(this).off("drag",r),t){const n=o.Event("mm:stop-dragging",{gesture:e.gesture,finalPosition:t.offset()});t.trigger(n),!1===n.result&&a(e),t=void 0}})).on("mouseleave",(function(e){t&&(o(this).off("drag",r),a(e),t=void 0)})).attr("data-drag-role","container")},o.fn.simpleDraggable=function(t){"use strict";return t&&t.disable?o(this).off("dragstart",a):o(this).on("dragstart",a)},o.fn.shadowDraggable=function(t){"use strict";return t&&t.disable?o(this).off("dragstart",s):o(this).on("dragstart",s)}},7601:(t,e,n)=>{n(9755).fn.imageDropWidget=function(t){"use strict";return this.on("dragleave dragend",(function(){Array.from(this.getElementsByClassName("droppable")).forEach((t=>t.classList.remove("droppable")))})).on("dragenter dragover",(function(t){const e=mapInstance[this.id],n=e.domMapController.stagePositionForPointEvent(t),o=n&&e.mapModel.getNodeIdAtPosition(n.x,n.y);if(void 0!==o&&this.querySelector("#node_"+o).classList.add("droppable"),t.originalEvent.dataTransfer)return!1})).on("drop",(function(e){const n=e.originalEvent.dataTransfer;let o;e.stopPropagation(),e.preventDefault(),n&&n.files&&n.files.length>0?t.insertFiles(n.files,e.originalEvent):n&&(o=n.getData("text/html"),t.insertHtmlContent(o,e.originalEvent)),Array.from(this.getElementsByClassName("droppable")).forEach((t=>t.classList.remove("droppable")))})),this}},6403:(t,e,n)=>{const o=n(9755),i=n(9050),r=n(110),a=n(5407),s=n(2329);t.exports=function(t,e){"use strict";const n=r(this);n.insertDataUrl=function(o,i){n.dispatchEvent("imageLoadStarted"),a(o,t).then((function(t){let o=t.dataUri;e&&(o=e(o)),n.dispatchEvent("imageInserted",o,t.width,t.height,i)}),(function(t){n.dispatchEvent("imageInsertError",t)}))},n.insertFiles=function(t,e){mapInstance[s.getContainerID(e.currentTarget)].mapModel.getInputEnabled()&&o.each(t,(function(t,i){/^image\//.test(i.type)&&o.when(function(t){const e=o.Deferred(),n=new FileReader;return n.onload=function(t){e.resolve(t.target.result)},n.onerror=e.reject,n.onprogress=e.notify,n.readAsDataURL(t),e.promise()}(i)).done((function(t){n.insertDataUrl(t,e)}))}))},n.insertHtmlContent=function(t,e){const o=t.match(/img[^>]*src="([^"]*)"/);o&&o.length>0&&i.each(o.slice(1),(function(t){n.insertDataUrl(t,e)}))}}},8619:(t,e,n)=>{n(9755).fn.innerText=function(){"use strict";const t=this.html(),e=/<br\/?>/.test(t);return/<div>/.test(t)&&this[0].innerText?this[0].innerText.trim():e?t.replace(/<br\/?>/gi,"\n").replace(/(<([^>]+)>)/gi,""):this.text()}},3134:(t,e,n)=>{const o=n(9755);t.exports=function(t,e){"use strict";const n=o(e),i=n.find(".color"),r=n.find(".lineStyle"),a=n.find(".arrow");let s,d,c;return n.hide(),t.addEventListener("linkSelected",(function(t,e,o){s=t,n.show(),d=d||n.width(),c=c||n.height(),n.css({top:e.y-.5*c-15+"px",left:e.x-.5*d-15+"px"}),i.val(o.color).change(),r.val(o.lineStyle)})),t.addEventListener("mapMoveRequested",(function(){n.hide()})),n.find(".delete").click((function(){if(!s)return!1;t.removeLink("mouse",s.ideaIdFrom,s.ideaIdTo),n.hide()})),i.change((function(){t.updateLinkStyle("mouse",s.ideaIdFrom,s.ideaIdTo,"color",o(this).val())})),r.change((function(){t.updateLinkStyle("mouse",s.ideaIdFrom,s.ideaIdTo,"lineStyle",o(this).val())})),a.click((function(){t.updateLinkStyle("mouse",s.ideaIdFrom,s.ideaIdTo,"arrow",void 0)})),n}},9818:(t,e,n)=>{const o=n(9755);t.exports=function(t,e){"use strict";const n=o(e);let i=!1;t.addEventListener("nodeSelectionChanged",(function(){i=!0,n.find(".updateStyle[data-mm-target-property]").val((function(){return t.getSelectedStyle(o(this).data("mm-target-property"))})).change(),i=!1})),t.addEventListener("addLinkModeToggled",(function(){n.find(".toggleAddLinkMode").toggleClass("active")})),["downloadMap","resetView","scaleUp","scaleDown","addSubIdea","addGroupSubidea","editNode","removeSubIdea","insertIntermediate","toggleCollapse","undo","redo","cut","copy","paste","toggleAddLinkMode","insertRoot","makeSelectedNodeRoot"].forEach((function(n){const o=e.getElementsByClassName(n);for(const e of o)e.addEventListener("click",(function(){if(t[n]){let o=e.dataset;0===Object.keys(o).length&&(o=void 0),t[n]("toolbar",o)}}))})),["readFile"].forEach((function(e){n.find("."+e).change((function(n){if(i)return;const r=o(this);r.data("mm-target-property")&&t[e]("toolbar",r.data("mm-target-property"),r.val(),n)}))}))}},8529:(t,e,n)=>{const o=n(9050);t.exports=function(t,e){"use strict";const n=e&&e.level,i=e&&e.theme;return{title:!(t.attr&&t.attr.group)&&t.title,width:t.attr&&t.attr.style&&t.attr.style.width,theme:i&&i.name,icon:t.attr&&t.attr.icon&&o.pick(t.attr.icon,"width","height","position"),collapsed:t.attr&&t.attr.collapsed,note:!(!t.attr||!t.attr.note),fontMultiplier:t.attr&&t.attr.style&&t.attr.style.fontMultiplier,styles:i&&i.nodeStyles(t.level||n,t.attr),level:t.level||n}}},3992:(t,e,n)=>{const o=n(9755);n(9597),o.fn.nodeResizeWidget=function(t,e,n){"use strict";return this.each((function(){let i,r,a;const s=o(this),d=s.find("span[data-mapjs-role=title]"),c=d[0],u=function(t){t&&t.stopPropagation(),t&&t.gesture&&t.gesture.stopPropagation()};o("<div>").addClass("resize-node").shadowDraggable().on("mm:start-dragging mm:start-dragging-shadow",(function(o){if(!e.isEditingEnabled())return u(o);e.selectNode(t),i=n(o),r=d.innerWidth(),a={"node.min-width":s.css("min-width"),"span.min-width":d.css("min-width"),"span.max-width":d.css("max-width")}})).on("mm:stop-dragging mm:cancel-dragging",(function(t){if(!e.isEditingEnabled())return u(t);const n=d.outerWidth();d.css({"max-width":a["span.max-width"],"min-width":a["span.min-width"]}),s.css("min-width",a["node.min-width"]),t&&t.stopPropagation(),t&&t.gesture&&t.gesture.stopPropagation(),s.trigger(o.Event("mm:resize",{nodeWidth:n}))})).on("mm:drag",(function(t){if(!e.isEditingEnabled())return u(t);let o=function(t){const e=n(t),o=e&&i&&e.x-i.x;return o&&Math.max(50,r+o)}(t);o&&(d.css({"max-width":o,"min-width":o}),s.css("min-width",d.outerWidth()),c.scrollWidth>c.offsetWidth&&(o=c.scrollWidth,d.css({"max-width":o,"min-width":o}),s.css("min-width",d.outerWidth()))),u(t)})).appendTo(s)}))}},6885:(t,e,n)=>{const o=n(9755),i=n(6017);o.fn.nodeWithId=function(t){"use strict";return this.find("#"+i(t))}},3286:(t,e,n)=>{n(9755).fn.placeCaretAtEnd=function(){"use strict";if(!window.getSelection||!document.createRange)return;const t=this[0],e=document.createRange(),n=window.getSelection();e.selectNodeContents(t),e.collapse(!1),n.removeAllRanges(),n.addRange(e)}},1191:(t,e,n)=>{n(9755).fn.queueFadeOut=function(t){"use strict";const e=this,n=()=>(e.is(":focus")&&e.parents("[tabindex]").focus(),e.remove());return!t||t.noAnimations()?n():e.on("transitionend",n).css("opacity",0)}},6721:(t,e,n)=>{n(9755).fn.selectAll=function(){"use strict";const t=this[0];let e,n,o;window.getSelection&&document.createRange?(e=document.createRange(),e.selectNodeContents(t),n=window.getSelection(),n.removeAllRanges(),n.addRange(e)):document.body.createTextRange&&(o=document.body.createTextRange(),o.moveToElementText(t),o.select())}},2247:(t,e,n)=>{const o=n(9755),i=n(9050);o.fn.setThemeClassList=function(t){"use strict";const e=this[0],n=function(t){return i.filter(t,(function(t){return/^level_.+/.test(t)||/^attr_.+/.test(t)}))},o=n(e.classList),r=t&&t.length&&n(t);return e.classList.remove.apply(e.classList,o),r&&r.length&&e.classList.add.apply(e.classList,r),this}},241:(t,e,n)=>{const o=n(2348),{default:i}=n(1749),r=function(t,e,n,i){"use strict";n=n||"text";let r=t.find(n+".mapjs-connector-text");return e?(0===r.length&&(r=o(n).attr("class","mapjs-connector-text"),i&&(r[0].style.transform=`translate(${i.x}px, ${i.y}px)`),r.appendTo(t)),r):(r.remove(),!1)};t.exports=function(t,e,n,o){"use strict";const a=r(t,n,"g",e),s=a&&r(a,n,"rect"),d=a&&r(a,n),c=d&&d[0];if(!c)return!1;let u=!1;const l=s&&s[0],h={},f=i.connector.class,p=t[0].getElementsByClassName(f)[0].getClientRects()[0],g=p.left-e.x,m=p.right-e.x;return c.style.stroke="none",c.style.fill=o.text.color,c.style.fontSize=o.text.font.sizePx+"px",c.style.fontWeight=o.text.font.weight,c.style.dominantBaseline="hanging",d.text(n.trim()),u=c.getClientRects()[0],h.x=e.x+Math.round(Math.abs(g)<Math.abs(m)?g:m)/100,h.y=Math.round(e.y-.5*p.height),a[0].style.transform=`translate(${h.x}px, ${h.y}px)`,c.setAttribute("x",0),c.setAttribute("y",2),l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("height",Math.round(u.height)),l.setAttribute("width",Math.round(u.width)),l.style.fill=o.backgroundColor,l.style.stroke=o.borderColor,d}},7913:(t,e,n)=>{const o=n(9755),i=n(2348),r=n(3874),a=n(1700),s=n(7170),d=n(241),c=n(1125),u=n(3269);n(1976),o.fn.updateConnector=function(t){"use strict";const e=t&&t.theme;return o.each(this,(function(){let n,l;const h=o(this),f=h.data("attr"),p=!e||!(e.connectorEditingContext||e.blockParentConnectorOverride)||e.connectorEditingContext&&e.connectorEditingContext.allowed&&e.connectorEditingContext.allowed.length,g=u(h,t);g?((t,e,n)=>{const o=JSON.stringify(e)+(n&&n.name);return!(!e||o===t.data("changeCheck"))&&(t.data("changeCheck",o),e)})(h,g,e)&&(h.data("theme",g.theme),h.data("position",Object.assign({},g.position)),n=h.find("path.mapjs-connector"),l=h.find("path.mapjs-link-hit"),h.css(Object.assign(s(g.position),{stroke:g.color})),0===n.length&&(n=i("path").attr("class","mapjs-connector").appendTo(h)),n.attr({d:g.d,"stroke-width":g.width,"stroke-dasharray":a[g.lineStyle||"solid"],fill:"transparent"}),p?(0===l.length&&(l=i("path").attr("class","mapjs-link-hit noTransition").appendTo(h)),l.attr({d:g.d,"stroke-width":g.width+12})):l.length>0&&l.remove(),function(){const t=f&&f.label||"",e=t&&h.data("nodeTo"),n=t&&h.data("nodeFrom"),o=g.theme&&g.theme.label||r.connector.default.label,i=t&&c(g.position,n.getDataBox(),e.getDataBox(),g.d,o);d(h,i,t,o)}()):h.remove()}))}},6051:(t,e,n)=>{const o=n(9755),i=n(2348),r=n(7170),a=n(241),s=n(5722),d=n(1125);n(1976),o.fn.updateLink=function(t){"use strict";const e=t&&t.linkBuilder||s,n=t&&t.theme;return o.each(this,(function(){const t=o(this),s=t.data("nodeFrom"),c=t.data("nodeTo"),u=t.data("attr")||{};let l=!1,h=t.find("path.mapjs-link"),f=t.find("path.mapjs-link-hit"),p=!1,g=!1,m=!1;s&&c&&0!==s.length&&0!==c.length?(p=s.getDataBox(),g=c.getDataBox(),l=e(p,g,u,n),m=JSON.stringify(l)+(n&&n.name),m!==t.data("changeCheck")&&(t.data("changeCheck",m),t.data("theme",l.theme),t.data("position",Object.assign({},l.position)),t.css(Object.assign(r(l.position),{stroke:l.lineProps.color})),0===h.length&&(h=i("path").attr("class","mapjs-link").appendTo(t)),h.attr({d:l.d,"stroke-width":l.lineProps.width,"stroke-dasharray":l.lineProps.strokes,"stroke-linecap":l.lineProps.linecap,fill:"transparent"}),0===f.length&&(f=i("path").attr("class","mapjs-link-hit noTransition").appendTo(t)),f.attr({d:l.d,"stroke-width":l.lineProps.width+12}),function(t,e){const n=e.find("path.mapjs-arrow");t.arrows&&t.arrows.length?(t.arrows.forEach(((o,r)=>{let a=n.eq(r);0===a.length&&(a=i("path").attr("class","mapjs-arrow").appendTo(e)),a.attr({d:o,fill:t.lineProps.color,"stroke-width":t.lineProps.width}).show()})),n.slice(t.arrows.length).hide()):n.hide()}(l,t),function(e,n,o){const i=u.label||"",r=e.theme.label,s=i&&d(e.position,n,o,e.d,r);a(t,s,i,r)}(l,p,g))):t.hide()}))}},8808:(t,e,n)=>{const o=n(9755),i=n(9050),r=n(5634),a=n(6842),s=n(8529),d=n(8286),c=n(4109);n(2247),o.fn.updateNodeContent=function(t,e,n){"use strict";const u=n&&n.resourceTranslator,l=n&&n.level,h=n&&n.nodeTextPadding||11,f=n&&n.fixedLayout,p=o(this),g=function(){let t=p.find("[data-mapjs-role=title]");return 0===t.length&&(t=o("<span>").attr("data-mapjs-role","title").appendTo(p)),t},m=function(){let t=p.find("[data-mapjs-role=decorations]");return 0===t.length&&(t=o('<div data-mapjs-role="decorations" class="mapjs-decorations">').on("mousedown click",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})).appendTo(p)),t},y=l||1,x=t.styles||e&&e.nodeStyles(y,t.attr)||[],v=e&&e.nodeTheme&&d(t,e.nodeTheme(x)),w=function(e){const n=a(e,25),o=g(),i=o[0],r=t.attr&&t.attr.style&&t.attr.style.width;let s;o.text(n.trim()),p.data("title",e),o.css({"max-width":"","min-width":""}),r&&o.css({"max-width":r,"min-width":r}),i.scrollWidth-h>i.offsetWidth?o.css("max-width",i.scrollWidth+"px"):r||(s=i.offsetHeight,o.css("min-width",t.textWidth||o.css("max-width")),i.offsetHeight===s&&o.css("min-width",""))},b=l||t.level,E=e&&e.attributeValue||function(t,e,n,o){return o},M=(e&&e.nodeStyles||function(){return["default"]})(b,t.attr),F=E(["node"],M,["border","type"],"surround"),C=E(["node"],M,["decorations","edge"],""),k=E(["node"],M,["decorations","overlap"],""),I="surround"!==F,S=t.attr&&t.attr.group,A={x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),textWidth:Math.round(t.textWidth),height:Math.round(t.height),nodeId:t.id,styles:M,parentConnector:t&&t.attr&&t.attr.parentConnector};let L;return A.innerRect=i.pick(A,["width","height"]),A.innerRect.dx=0,A.innerRect.dy=0,v&&v.hasFontMultiplier?p.css({"font-size":v.font.size+"pt"}):p.css({"font-size":""}),v&&v.text&&v.text.alignment?p.css("text-align",v.text.alignment):p.css("text-align",""),S?(this.css({margin:"",width:t.width,height:t.height,opacity:1}),w("")):(w(t.title),n&&n.decorations&&!n.decorations.includes(C)?m().empty():(function(t){const e=r.getLink(t);let n=p.find("a.mapjs-hyperlink");e?(0===n.length&&(n=o('<a target="_blank" class="mapjs-hyperlink icon-hyperlink"></a>').addClass().appendTo(m())),n.attr("href",e).show()):n.hide()}(t.title),function(t){let e=p.find(".mapjs-label");t||0===t?(0===e.length&&(e=o('<span class="mapjs-label"></span>').appendTo(m())),e.text(t).show()):e.hide()}(t.label),function(){const e=t.attr&&t.attr.note;let n=p.find("a.mapjs-note");e?(0===n.length&&(n=o('<a href="#" class="mapjs-note icon-note"></a>').appendTo(m()).click((function(){p.trigger("decoration-click","note")}))),n.show()):n.hide()}()),this.css({margin:"",width:"",height:"",opacity:1}),"left"===C?(A.innerRect.dx=m().outerWidth(),A.innerRect.width=A.width-m().outerWidth(),p.css("margin-left",m().outerWidth())):"right"===C?(A.innerRect.width=A.width-m().outerWidth(),p.css("margin-right",m().outerWidth())):"bottom"===C&&(L=m().outerHeight()*(k?.5:1),A.innerRect.height=A.height-L,p.css("margin-bottom",m().outerHeight()*(k?.5:1)))),p.setThemeClassList(M).attr("mapjs-level",b),p.data(A),p.data("nodeCacheMark",s(t,Object.assign({theme:e},n))),function(t){p.removeClass("mapjs-node-colortext mapjs-node-transparent"),p.css({color:v.text.color,"background-color":v.backgroundColor}),t&&p.addClass("mapjs-node-colortext"),v&&v.backgroundColor&&"transparent"!==v.backgroundColor||p.addClass("mapjs-node-transparent")}(I),function(e){let n,o,r;const a=g(),s={"min-height":"","min-width":"","background-image":"","background-repeat":"","background-size":"","background-position":""},d={"margin-top":"","margin-left":""},l=v&&v.margin||10;p.css({padding:""}),e&&(n=a.outerHeight(),o=a.outerWidth(),r=c(t.attr,v),i.extend(s,{"background-image":'url("'+(u?u(e.url):e.url)+'")',"background-repeat":"no-repeat","background-size":e.width+"px "+e.height+"px","background-position":"center center"}),"top"===e.position||"bottom"===e.position?("top"===e.position?s["background-position"]="center "+l+"px":s["background-position"]=f?"center "+(l+n)+"px":"center "+e.position+" "+l+"px",s["padding-"+e.position]=e.height+2*l,s["min-width"]=e.width,e.width>r&&(d["max-width"]=`${e.width}px`)):"left"===e.position||"right"===e.position?("left"===e.position?s["background-position"]=l+"px center":s["background-position"]=f?o+2*l+"px center ":e.position+" "+l+"px center",s["padding-"+e.position]=e.width+2*l,e.height>n&&(d["margin-top"]=Math.round((e.height-n)/2),s["min-height"]=e.height)):(e.height>n&&(d["margin-top"]=Math.round((e.height-n)/2),s["min-height"]=e.height),s["min-width"]=e.width,e.width>r&&(d["max-width"]=`${e.width}px`))),p.css(s),a.css(d)}(t.attr&&t.attr.icon),t.attr&&t.attr.collapsed?p.addClass("collapsed"):p.removeClass("collapsed"),p.trigger("mapjs:resize"),p}},6282:(t,e,n)=>{n(9755).fn.updateReorderBounds=function(t,e,n){"use strict";const o=this;t?(o.show(),o.attr("mapjs-edge",t.edge),"top"===t.edge?o.css({top:t.minY,left:Math.round(n.x-o.width()/2)}):o.css({top:Math.round(n.y-o.height()/2),left:t.x-("left"===t.edge?o.width():0)})):o.hide()}},5349:(t,e,n)=>{n(9755).fn.updateStage=function(){"use strict";const t=this.data(),e={"min-width":Math.round(t.width-t.offsetX),"min-height":Math.round(t.height-t.offsetY),width:Math.round(t.width-t.offsetX),height:Math.round(t.height-t.offsetY),"transform-origin":"top left",transform:"translate3d("+Math.round(t.offsetX)+"px, 30%, 0)"},n=this.find("[data-mapjs-role=svg-container]")[0];return t.scale&&1!==t.scale&&(e.transform="scale("+t.scale+") translate("+Math.round(t.offsetX)+"px, 30%)"),this.css(e),n&&(n.setAttribute("viewBox",Math.round(-1*t.offsetX)+" "+Math.round(-1*t.offsetY)+" "+Math.round(t.width)+" "+Math.round(t.height)),n.setAttribute("style","top:"+Math.round(-1*t.offsetY)+"px; left:"+Math.round(-1*t.offsetX)+"px; width:"+Math.round(t.width)+"px; height:"+Math.round(t.height)+"px;")),this}},4332:(t,e,n)=>{n(6418),n(9818),n(3134),n(7601),t.exports={MemoryClipboard:n(2612),MapModel:n(329),ImageInsertController:n(6403),content:n(6906),observable:n(110),DomMapController:n(3267),MapToolbarWidget:n(9818),LinkEditWidget:n(3134),ThemeProcessor:n(1056),Theme:n(1515),defaultTheme:n(3874),formatNoteToHtml:n(6729),version:4}},714:(t,e,n)=>{const o=n(2329),i=n(4332),{default:r}=n(1749),a=r.mapjs_map.class,s=r.mapjs_instance.class,d=r.mapjs_src_data.class,c=o.trycatch;o.Logger.log("production mode"),i.arg=n(3775),i.argumentMapping=n(2800),i.topdown=n(5925),i.compact=n(8913),i.v1=n(5135);const u=n(9755),l=n(5660),h=i.content,f={},p=function(t,e=l.default){const n=new i.Theme(e),o=()=>n;return t.mapModel.setThemeSource(o),function(t){"use strict";const e=t&&(new i.ThemeProcessor).process(t).css;e&&(window.themeCSS&&u("#themeCSS")[0].remove(),u('<style id="themeCSS" type="text/css"></style>').appendTo("head").text(e))}(e),t&&void 0!==t.domMapController&&t.mapModel.setIdea(idea),o},g=function(t,e){"use strict";const n=o.getElementMJS(a,t),s=f[n.id]={};s.mapModel=new i.MapModel([]),s.mapModel.containerElement=n,s.mapModel.content=h;const d=u(n),g=u(t),m=new i.ImageInsertController("http://localhost:4999?u="),y=h(e),x=i.arg||y.theme||l.default||i.defaultTheme,v=p(s,x),w=n.parentElement,b=c((()=>o.getElementMJS(r.toolbar_main.class,w))),E=c((()=>o.getElementMJS(r.toolbar_edit_links.class,w)));g.domMapWidget(console,s.mapModel,!1,m),s.domMapController=new i.DomMapController(s.mapModel,d.find("[data-mapjs-role=stage]"),!1,m,void 0,v),s.mapToolbarWidget=new i.MapToolbarWidget(s.mapModel,b),s.linkEditWidget=new i.LinkEditWidget(s.mapModel,E),s.mapModel.setIdea(y),u(".arrow").click((function(){u(this).toggleClass("active")})),m.addEventListener("imageInsertError",(function(t){o.Logger.error("image insert error",t)})),d.on("drop",(function(t){const e=f[this.id],n=e.mapModel,o=t.originalEvent.dataTransfer;if(t.stopPropagation(),t.preventDefault(),n.getInputEnabled()&&o&&o.files&&o.files.length>0){const i=o.files[0];if(/\.(json|mup)$/.test(i.name)){const o=new window.FileReader;o.onload=function(o){const i=n.getIdea(),r=e.domMapController.stagePositionForPointEvent(t),a=r&&n.getNodeIdAtPosition(r.x,r.y),s=void 0!==a?a:"root";i.pasteMultiple(s,JSON.parse(o.target.result).ideas)},o.target_container_id=t.delegateTarget.id,o.readAsText(i,"UTF-8")}}}))};document.addEventListener("DOMContentLoaded",(function(){"use strict";const t=o.getElementMJS(s,document,!0);if(t.length>0){for(const e of t){const t=o.getElementMJS(d,e).getAttribute("src");fetch(t).then((t=>t.json())).then((t=>g(e,t))).catch((t=>o.Logger.error(t)))}window.onerror=o.Logger.error,window.jQuery=u,window.mapInstance=f}else o.Logger.warn("No mapjs containers found in web page's source html.")}))},5660:t=>{t.exports={},t.exports.default={name:"MindMup V1",node:[{name:"default",cornerRadius:10,backgroundColor:"#E0E0E0",border:{type:"surround",line:{color:"#707070",width:1}},shadow:[{color:"#070707",opacity:.4,offset:{width:2,height:2},radius:2}],text:{margin:5,alignment:"center",color:"#4F4F4F",lightColor:"#EEEEEE",darkColor:"#000000",font:{lineSpacing:2.5,size:9,weight:"bold"}},connections:{default:{h:"center",v:"center"},from:{horizontal:{h:"nearest-inset",v:"center"}},to:{h:"nearest",v:"center"}},decorations:{height:20,edge:"top",overlap:!0,position:"end"}},{name:"level_1",backgroundColor:"#22AAE0"},{name:"activated",border:{type:"surround",line:{color:"#22AAE0",width:3,style:"dotted"}}},{name:"level_1.activated",border:{type:"surround",line:{color:"#EEEEEE",width:3,style:"dotted"}}},{name:"selected",shadow:[{color:"#000000",opacity:.9,offset:{width:2,height:2},radius:2}]},{name:"collapsed",shadow:[{color:"#888888",offset:{width:0,height:1},radius:0},{color:"#FFFFFF",offset:{width:0,height:3},radius:0},{color:"#888888",offset:{width:0,height:4},radius:0},{color:"#FFFFFF",offset:{width:0,height:6},radius:0},{color:"#888888",offset:{width:0,height:7},radius:0}]},{name:"collapsed.selected",shadow:[{color:"#FFFFFF",offset:{width:0,height:1},radius:0},{color:"#888888",offset:{width:0,height:3},radius:0},{color:"#FFFFFF",offset:{width:0,height:6},radius:0},{color:"#555555",offset:{width:0,height:7},radius:0},{color:"#FFFFFF",offset:{width:0,height:10},radius:0},{color:"#333333",offset:{width:0,height:11},radius:0}]},{name:"attr_group_supporting",backgroundColor:"#00FF00"},{name:"attr_group_opposing",backgroundColor:"#FF0000"}],connector:{default:{type:"quadratic",label:{backgroundColor:"transparent",borderColor:"transparent",position:{ratio:.5},text:{color:"#4F4F4F",font:{size:9,sizePx:12,weight:"normal"}}},controlPoint:{above:{width:0,height:.75},below:{width:0,height:.75},horizontal:{width:0,height:0}},line:{color:"#707070",width:1}}}}},3775:t=>{"use strict";t.exports=JSON.parse('{"node":[{"border":{"line":{"width":1,"color":"#707070"},"type":"surround"},"connections":{"from":{"horizontal":{"v":"base","h":"center-separated"}},"default":{"v":"base","h":"center-separated"},"to":{"v":"top","h":"center"}},"backgroundColor":"transparent","shadow":[{"radius":2,"opacity":0.3,"offset":{"height":2,"width":2},"color":"#070707"}],"text":{"lightColor":"#EEEEEE","darkColor":"#000000","margin":5,"font":{"lineSpacing":2,"lineSpacingPx":2.6,"sizePx":13.3,"weight":300,"size":14},"alignment":"start","maxWidth":146,"color":"#4F4F4F"},"cornerRadius":5,"decorations":{"edge":"top","height":16,"position":"end","overlap":true},"name":"default"},{"name":"attr_implicit_claim","border":{"line":{"style":"dashed","width":1,"color":"#707070"},"type":"surround"}},{"name":"activated","border":{"line":{"style":"dotted","width":3,"color":"#22AAE0"},"type":"surround"}},{"name":"activated.attr_implicit_claim","border":{"line":{"style":"dashed","width":3,"color":"#22AAE0"},"type":"surround"}},{"name":"selected","shadow":[{"radius":2,"opacity":0.9,"offset":{"height":2,"width":2},"color":"#000000"}]},{"name":"collapsed","shadow":[{"radius":0,"offset":{"height":1,"width":0},"color":"#888888"},{"radius":0,"offset":{"height":3,"width":0},"color":"#FFFFFF"},{"radius":0,"offset":{"height":4,"width":0},"color":"#888888"},{"radius":0,"offset":{"height":6,"width":0},"color":"#FFFFFF"},{"radius":0,"offset":{"height":7,"width":0},"color":"#888888"}]},{"name":"collapsed.selected","shadow":[{"radius":0,"offset":{"height":1,"width":0},"color":"#FFFFFF"},{"radius":0,"offset":{"height":3,"width":0},"color":"#888888"},{"radius":0,"offset":{"height":6,"width":0},"color":"#FFFFFF"},{"radius":0,"offset":{"height":7,"width":0},"color":"#555555"},{"radius":0,"offset":{"height":10,"width":0},"color":"#FFFFFF"},{"radius":0,"offset":{"height":11,"width":0},"color":"#333333"}]},{"connections":{"from":{"below":{"v":"base","h":"center"}},"childstyle":"no-connector","to":{"v":"top","h":"center"},"style":"supporting-group","default":{"v":"base","h":"center"}},"backgroundColor":"transparent","shadow":[{"color":"transparent"}],"text":{"lightColor":"#EEEEEE","darkColor":"#000000","margin":0,"alignment":"center","font":{"lineSpacing":2.5,"sizePx":14,"lineSpacingPx":3.25,"weight":"bold","size":9},"color":"#4F4F4F"},"cornerRadius":10,"border":{"type":"overline"},"name":"attr_group"},{"name":"attr_group_supporting","connections":{"from":{"below":{"v":"base","h":"center"}},"childstyle":"no-connector","to":{"v":"top","h":"center"},"style":"supporting-group","default":{"v":"base","h":"center"}}},{"border":{"line":{"style":"solid","width":2,"color":"transparent"},"type":"surround"},"backgroundColor":"rgba(0, 255, 0, 0.2)","name":"attr_group_supporting.level_1"},{"border":{"line":{"style":"dotted","width":3,"color":"#22AAE0"},"type":"surround"},"backgroundColor":"rgba(0, 255, 0, 0.2)","name":"attr_group_supporting.activated"},{"name":"attr_group_opposing","connections":{"from":{"below":{"v":"base","h":"center"}},"childstyle":"no-connector","to":{"v":"top","h":"center"},"style":"opposing-group","default":{"v":"base","h":"center"}}},{"border":{"line":{"style":"solid","width":2,"color":"transparent"},"type":"surround"},"backgroundColor":"rgba(255, 0, 0, 0.2)","name":"attr_group_opposing.level_1"},{"border":{"line":{"style":"dotted","width":3,"color":"#22AAE0"},"type":"surround"},"backgroundColor":"rgba(255, 0, 0, 0.2)","name":"attr_group_opposing.activated"},{"border":{"line":{"style":"dashed","width":3,"color":"#22AAE0"},"type":"surround"},"backgroundColor":"rgba(0, 255, 0, 0.6)","name":"attr_group_supporting.droppable"},{"border":{"line":{"style":"dashed","width":3,"color":"#22AAE0"},"type":"surround"},"backgroundColor":"rgba(255, 0, 0, 0.6)","name":"attr_group_opposing.droppable"}],"name":"MindMup Top Down Argument Mapping","connectorEditingContext":{"defaults":{"width":3},"name":"argument-mapping","allowed":["width","label"]},"layout":{"orientation":"top-down","spacing":{"v":60,"h":20}},"blockThemeOverrides":true,"connector":{"default":{"type":"vertical-quadratic-s-curve","line":{"width":1,"color":"#707070"},"label":{"position":{"ratio":0.45,"aboveEnd":10},"borderColor":"white","backgroundColor":"white","text":{"font":{"weight":"normal","size":9,"sizePx":14},"color":"#4F4F4F"}}},"no-connector.opposing-group":{"type":"no-connector","line":{"width":4,"color":"#FFAFAF"},"label":{"position":{"ratio":0.45},"borderColor":"transparent","backgroundColor":"transparent","text":{"font":{"weight":"normal","size":6,"sizePx":"9gg"},"color":"#4F4F4F"}}},"opposing-group":{"type":"vertical-quadratic-s-curve","line":{"width":3,"color":"#FFAFAF"},"label":{"position":{"ratio":0.45,"aboveEnd":10},"borderColor":"white","backgroundColor":"white","text":{"font":{"weight":"normal","size":9,"sizePx":14},"color":"#FFAFAF"}}},"no-connector.supporting-group":{"type":"no-connector","line":{"width":4,"color":"#095F11"},"label":{"position":{"ratio":0.45},"borderColor":"transparent","backgroundColor":"transparent","text":{"font":{"weight":"normal","size":6,"sizePx":9},"color":"#095F11"}}},"supporting-group":{"type":"vertical-quadratic-s-curve","line":{"width":3,"color":"#095F11"},"label":{"position":{"ratio":0.45,"aboveEnd":10},"borderColor":"white","backgroundColor":"white","text":{"font":{"weight":"normal","size":9,"sizePx":14},"color":"#095F11"}}},"no-connector":{"line":{"width":0,"color":"#707070"},"type":"no-connector"}}}')},8913:t=>{"use strict";t.exports=JSON.parse('{"name":"MindMup Compact","node":[{"name":"default","cornerRadius":3,"background":{"color":"transparent","opacity":0},"border":{"type":"underline"},"shadow":[{"color":"transparent"}],"text":{"margin":5,"alignment":"left","color":"#4F4F4F","lightColor":"#EEEEEE","darkColor":"#000000","font":{"lineSpacing":8,"size":12,"weight":"light"}},"connections":{"default":{"h":"nearest","v":"base"}},"decorations":{"height":32,"edge":"top","overlap":false,"position":"center"}},{"name":"level_1","connections":{"default":{"h":"nearest","v":"center"}}},{"name":"activated","border":{"type":"surround","line":{"color":"#22AAE0","width":2,"style":"dashed"}}},{"name":"selected","shadow":[{"color":"#FFFFFF","offset":{"width":1,"height":0},"radius":0},{"color":"#FFFFFF","offset":{"width":-1,"height":0},"radius":0},{"color":"#22AAE0","offset":{"width":4,"height":0},"radius":0},{"color":"#22AAE0","offset":{"width":-4,"height":0},"radius":0}]},{"name":"collapsed","shadow":[{"color":"#888888","offset":{"width":0,"height":1},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":3},"radius":0},{"color":"#888888","offset":{"width":0,"height":4},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#888888","offset":{"width":0,"height":7},"radius":0}]},{"name":"collapsed.selected","shadow":[{"color":"#FFFFFF","offset":{"width":1,"height":0},"radius":0},{"color":"#FFFFFF","offset":{"width":-1,"height":0},"radius":0},{"color":"#22AAE0","offset":{"width":4,"height":0},"radius":0},{"color":"#22AAE0","offset":{"width":-4,"height":0},"radius":0},{"color":"#888888","offset":{"width":0,"height":1},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":3},"radius":0},{"color":"#888888","offset":{"width":0,"height":4},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#888888","offset":{"width":0,"height":7},"radius":0}]}],"connector":{"default":{"type":"compact-s-curve","line":{"color":"#707070","width":1}}}}')},2800:t=>{"use strict";t.exports=JSON.parse('{"name":"MindMup Top Down Argument Mapping","layout":{"orientation":"top-down","spacing":{"h":20,"v":100}},"node":[{"name":"default","cornerRadius":5,"background":{"color":"transparent","opacity":0},"border":{"type":"overline"},"shadow":[{"color":"transparent"}],"text":{"margin":5,"alignment":"left","color":"#4F4F4F","lightColor":"#EEEEEE","darkColor":"#000000","font":{"lineSpacing":2,"size":10,"weight":"light"}},"connections":{"default":{"h":"center-separated","v":"base"},"from":{"horizontal":{"h":"center-separated","v":"base"}},"to":{"h":"center","v":"top"}},"decorations":{"height":32,"edge":"right","overlap":true,"position":"center"}},{"name":"level_1","cornerRadius":10,"text":{"margin":10,"alignment":"center","color":"#4F4F4F","lightColor":"#EEEEEE","darkColor":"#000000","font":{"lineSpacing":2,"size":15,"weight":"light"}}},{"name":"activated","border":{"type":"surround","line":{"color":"#22AAE0","width":3,"style":"dotted"}}},{"name":"selected","shadow":[{"color":"#000000","opacity":0.9,"offset":{"width":2,"height":2},"radius":2}]},{"name":"collapsed","shadow":[{"color":"#888888","offset":{"width":0,"height":1},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":3},"radius":0},{"color":"#888888","offset":{"width":0,"height":4},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#888888","offset":{"width":0,"height":7},"radius":0}]},{"name":"collapsed.selected","shadow":[{"color":"#FFFFFF","offset":{"width":0,"height":1},"radius":0},{"color":"#888888","offset":{"width":0,"height":3},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#555555","offset":{"width":0,"height":7},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":10},"radius":0},{"color":"#333333","offset":{"width":0,"height":11},"radius":0}]},{"name":"attr_group","cornerRadius":10,"text":{"margin":0,"alignment":"center","color":"#4F4F4F","lightColor":"#EEEEEE","darkColor":"#000000","font":{"lineSpacing":2.5,"size":9,"weight":"bold"}},"connections":{"style":"supporting-group","childstyle":"no-connector","default":{"h":"center","v":"base"},"from":{"below":{"h":"center","v":"base"}},"to":{"h":"center","v":"top"}}},{"name":"attr_group_supporting","connections":{"style":"supporting-group","childstyle":"no-connector","default":{"h":"center","v":"base"},"from":{"below":{"h":"center","v":"base"}},"to":{"h":"center","v":"top"}}},{"name":"attr_group_supporting.activated","background":{"color":"#00FF00","opacity":0.2},"border":{"type":"surround","line":{"color":"#00FF00","width":3,"style":"dotted"}}},{"name":"attr_group_opposing","connections":{"style":"opposing-group","childstyle":"no-connector","default":{"h":"center","v":"base"},"from":{"below":{"h":"center","v":"base"}},"to":{"h":"center","v":"top"}}},{"name":"attr_group_opposing.activated","background":{"color":"#FF0000","opacity":0.2},"border":{"type":"surround","line":{"color":"#FF0000","width":3,"style":"dotted"}}}],"connector":{"default":{"type":"vertical-quadratic-s-curve","line":{"color":"#707070","width":1}},"no-connector":{"type":"no-connector","line":{"color":"#707070","width":0}},"supporting-group":{"type":"vertical-quadratic-s-curve","line":{"color":"#00FF00","width":3}},"opposing-group":{"type":"vertical-quadratic-s-curve","line":{"color":"#FF0000","width":3}},"no-connector.supporting-group":{"type":"no-connector","line":{"color":"#00FF00","width":4}},"no-connector.opposing-group":{"type":"no-connector","line":{"color":"#FF0000","width":4}}}}')},5925:t=>{"use strict";t.exports=JSON.parse('{"name":"MindMup Top Down Straight Lines","layout":{"orientation":"top-down","spacing":{"h":20,"v":100}},"node":[{"name":"default","cornerRadius":5,"background":{"color":"transparent","opacity":0},"border":{"type":"overline"},"shadow":[{"color":"transparent"}],"text":{"margin":5,"alignment":"left","color":"#4F4F4F","lightColor":"#EEEEEE","darkColor":"#000000","font":{"lineSpacing":2,"size":10,"weight":"light"}},"connections":{"default":{"h":"center","v":"base"},"from":{"horizontal":{"h":"center","v":"base"}},"to":{"h":"center","v":"top"}},"decorations":{"height":32,"edge":"right","overlap":true,"position":"center"}},{"name":"activated","border":{"type":"surround","line":{"color":"#22AAE0","width":3,"style":"dotted"}}},{"name":"selected","shadow":[{"color":"#000000","opacity":0.9,"offset":{"width":2,"height":2},"radius":2}]},{"name":"collapsed","shadow":[{"color":"#888888","offset":{"width":0,"height":1},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":3},"radius":0},{"color":"#888888","offset":{"width":0,"height":4},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#888888","offset":{"width":0,"height":7},"radius":0}]},{"name":"collapsed.selected","shadow":[{"color":"#FFFFFF","offset":{"width":0,"height":1},"radius":0},{"color":"#888888","offset":{"width":0,"height":3},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#555555","offset":{"width":0,"height":7},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":10},"radius":0},{"color":"#333333","offset":{"width":0,"height":11},"radius":0}]}],"connector":{"default":{"type":"top-down-s-curve","line":{"color":"#707070","width":2}}}}')},5135:t=>{"use strict";t.exports=JSON.parse('{"name":"MindMup V1","node":[{"name":"default","cornerRadius":10,"backgroundColor":"#E0E0E0","border":{"type":"surround","line":{"color":"#707070","width":1}},"shadow":[{"color":"#070707","opacity":0.4,"offset":{"width":2,"height":2},"radius":2}],"text":{"margin":5,"alignment":"center","color":"#4F4F4F","lightColor":"#EEEEEE","darkColor":"#000000","font":{"lineSpacing":2.5,"size":9,"weight":"bold"}},"connections":{"default":{"h":"center","v":"center"},"from":{"horizontal":{"h":"nearest-inset","v":"center"}},"to":{"h":"nearest","v":"center"}},"decorations":{"height":20,"edge":"top","overlap":true,"position":"end"}},{"name":"level_1","backgroundColor":"#22AAE0"},{"name":"activated","border":{"type":"surround","line":{"color":"#22AAE0","width":3,"style":"dotted"}}},{"name":"level_1.activated","border":{"type":"surround","line":{"color":"#EEEEEE","width":3,"style":"dotted"}}},{"name":"selected","shadow":[{"color":"#000000","opacity":0.9,"offset":{"width":2,"height":2},"radius":2}]},{"name":"collapsed","shadow":[{"color":"#888888","offset":{"width":0,"height":1},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":3},"radius":0},{"color":"#888888","offset":{"width":0,"height":4},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#888888","offset":{"width":0,"height":7},"radius":0}]},{"name":"collapsed.selected","shadow":[{"color":"#FFFFFF","offset":{"width":0,"height":1},"radius":0},{"color":"#888888","offset":{"width":0,"height":3},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":6},"radius":0},{"color":"#555555","offset":{"width":0,"height":7},"radius":0},{"color":"#FFFFFF","offset":{"width":0,"height":10},"radius":0},{"color":"#333333","offset":{"width":0,"height":11},"radius":0}]},{"name":"attr_group_supporting","backgroundColor":"#00FF00"},{"name":"attr_group_opposing","backgroundColor":"#FF0000"}],"connector":{"default":{"type":"quadratic","controlPoint":{"above":{"width":0,"height":0.75},"below":{"width":0,"height":0.75},"horizontal":{"width":0,"height":0}},"line":{"color":"#707070","width":1}}}}')}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,o),r.exports}o.m=e,t=[],o.O=(e,n,i,r)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,i,r]=t[u],s=!0,d=0;d<n.length;d++)(!1&r||a>=r)&&Object.keys(o.O).every((t=>o.O[t](n[d])))?n.splice(d--,1):(s=!1,r<a&&(a=r));if(s){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,i,r]},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={179:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var i,r,[a,s,d]=n,c=0;if(a.some((e=>0!==t[e]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(d)var u=d(o)}for(e&&e(n);c<a.length;c++)r=a[c],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(u)},n=self.webpackChunk_s6mike_mapjs=self.webpackChunk_s6mike_mapjs||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=o.O(void 0,[736],(()=>o(714)));i=o.O(i)})();
//# sourceMappingURL=main.js.map